{
  "docusaurus-plugin-google-gtag": {
    "default": {
      "trackingID": [
        "G-S4SD5NXWXF"
      ],
      "anonymizeIP": true,
      "id": "default"
    }
  },
  "docusaurus-plugin-content-docs": {
    "default": {
      "path": "/docs",
      "versions": [
        {
          "name": "current",
          "label": "Next",
          "isLast": true,
          "path": "/docs",
          "mainDocId": "skill/introduction",
          "docs": [
            {
              "id": "diary/introduction",
              "path": "/docs/diary"
            },
            {
              "id": "project_group/introduction",
              "path": "/docs/project_group",
              "sidebar": "project_group"
            },
            {
              "id": "project_group/motor_ctrl/AxDrive-L/AxDrive-L_hardware_design_report",
              "path": "/docs/AxDrive-L_hardware_design_report",
              "sidebar": "project_group"
            },
            {
              "id": "project_group/motor_ctrl/AxDrive-L/AxDrive-L_software_design_report",
              "path": "/docs/AxDrive-L_software_design_report",
              "sidebar": "project_group"
            },
            {
              "id": "project_group/motor_ctrl/AxDrive-L/AxDrive-L_user_manual",
              "path": "/docs/AxDrive-L_user_manual",
              "sidebar": "project_group"
            },
            {
              "id": "skill/C/C_Basic/C_array",
              "path": "/docs/C_array",
              "sidebar": "skill"
            },
            {
              "id": "skill/C/C_Basic/C_basic_syntax",
              "path": "/docs/C_basic_syntax",
              "sidebar": "skill"
            },
            {
              "id": "skill/C/C_Basic/C_brief_introduction",
              "path": "/docs/C_brief_introduction",
              "sidebar": "skill"
            },
            {
              "id": "skill/C/C_Basic/C_character_string",
              "path": "/docs/C_character_string",
              "sidebar": "skill"
            },
            {
              "id": "skill/C/C_Basic/C_control_flow",
              "path": "/docs/C_control_flow",
              "sidebar": "skill"
            },
            {
              "id": "skill/C/C_Basic/C_datetype",
              "path": "/docs/C_datetype",
              "sidebar": "skill"
            },
            {
              "id": "skill/C/C_Basic/C_environment_settings",
              "path": "/docs/C_environment_settings",
              "sidebar": "skill"
            },
            {
              "id": "skill/C/C_Basic/C_function",
              "path": "/docs/C_function",
              "sidebar": "skill"
            },
            {
              "id": "skill/C/C_Basic/C_function_order",
              "path": "/docs/C_function_order",
              "sidebar": "skill"
            },
            {
              "id": "skill/C/C_Basic/C_keyword",
              "path": "/docs/C_keyword",
              "sidebar": "skill"
            },
            {
              "id": "skill/C/C_Basic/C_memory",
              "path": "/docs/C_memory",
              "sidebar": "skill"
            },
            {
              "id": "skill/C/C_Basic/C_operator",
              "path": "/docs/C_operator",
              "sidebar": "skill"
            },
            {
              "id": "skill/C/C_Basic/C_other",
              "path": "/docs/C_other"
            },
            {
              "id": "skill/C/C_Basic/C_pointer",
              "path": "/docs/C_pointer",
              "sidebar": "skill"
            },
            {
              "id": "skill/C/C_Basic/C_pointer_and_array",
              "path": "/docs/C_pointer_and_array",
              "sidebar": "skill"
            },
            {
              "id": "skill/C/C_Basic/C_pointer_array_and_pointer_array",
              "path": "/docs/C_pointer_array_and_pointer_array",
              "sidebar": "skill"
            },
            {
              "id": "skill/C/C_Basic/C_pointer_High_level_issues",
              "path": "/docs/C_pointer_High_level_issues",
              "sidebar": "skill"
            },
            {
              "id": "skill/C/C_Basic/C_pretreatment",
              "path": "/docs/C_pretreatment",
              "sidebar": "skill"
            },
            {
              "id": "skill/C/C_Basic/C_program_structure",
              "path": "/docs/C_program_structure",
              "sidebar": "skill"
            },
            {
              "id": "skill/C/C_Basic/C_scope",
              "path": "/docs/C_scope",
              "sidebar": "skill"
            },
            {
              "id": "skill/C/C_Basic/C_struct",
              "path": "/docs/C_struct",
              "sidebar": "skill"
            },
            {
              "id": "skill/C/C_Basic/C_struct_size",
              "path": "/docs/C_struct_size",
              "sidebar": "skill"
            },
            {
              "id": "skill/C/C_Basic/C_two_pointer",
              "path": "/docs/C_two_pointer",
              "sidebar": "skill"
            },
            {
              "id": "skill/C/C_Basic/C_typedef",
              "path": "/docs/C_typedef",
              "sidebar": "skill"
            },
            {
              "id": "skill/C/C_Basic/C_union_enum",
              "path": "/docs/C_union_enum",
              "sidebar": "skill"
            },
            {
              "id": "skill/C/C_Basic/C_variable_constant",
              "path": "/docs/C_variable_constant",
              "sidebar": "skill"
            },
            {
              "id": "skill/C/C_Data_Structure/binary_tree",
              "path": "/docs/binary_tree",
              "sidebar": "skill"
            },
            {
              "id": "skill/C/C_Data_Structure/data_structure",
              "path": "/docs/data_structure",
              "sidebar": "skill"
            },
            {
              "id": "skill/C/C_Data_Structure/double_linked_list",
              "path": "/docs/double_linked_list",
              "sidebar": "skill"
            },
            {
              "id": "skill/C/C_Data_Structure/inline_list",
              "path": "/docs/inline_list",
              "sidebar": "skill"
            },
            {
              "id": "skill/C/C_Data_Structure/linear_table",
              "path": "/docs/linear_table",
              "sidebar": "skill"
            },
            {
              "id": "skill/C/C_Data_Structure/queue",
              "path": "/docs/queue",
              "sidebar": "skill"
            },
            {
              "id": "skill/C/C_Data_Structure/single_linked_list",
              "path": "/docs/single_linked_list",
              "sidebar": "skill"
            },
            {
              "id": "skill/C/C_Data_Structure/singly_loop_linked_list",
              "path": "/docs/singly_loop_linked_list",
              "sidebar": "skill"
            },
            {
              "id": "skill/C/C_Data_Structure/stack",
              "path": "/docs/stack",
              "sidebar": "skill"
            },
            {
              "id": "skill/C/FILE_IO/dir",
              "path": "/docs/dir",
              "sidebar": "skill"
            },
            {
              "id": "skill/C/FILE_IO/file",
              "path": "/docs/file",
              "sidebar": "skill"
            },
            {
              "id": "skill/C/FILE_IO/standard_io",
              "path": "/docs/standard_io",
              "sidebar": "skill"
            },
            {
              "id": "skill/C/FILE_IO/stat",
              "path": "/docs/stat",
              "sidebar": "skill"
            },
            {
              "id": "skill/C/FILE_IO/system_io",
              "path": "/docs/system_io",
              "sidebar": "skill"
            },
            {
              "id": "skill/C/Network/socket",
              "path": "/docs/socket",
              "sidebar": "skill"
            },
            {
              "id": "skill/C/Network/tcp",
              "path": "/docs/tcp"
            },
            {
              "id": "skill/C/System/cond",
              "path": "/docs/cond",
              "sidebar": "skill"
            },
            {
              "id": "skill/C/System/ipc",
              "path": "/docs/ipc",
              "sidebar": "skill"
            },
            {
              "id": "skill/C/System/msg",
              "path": "/docs/msg",
              "sidebar": "skill"
            },
            {
              "id": "skill/C/System/mutex",
              "path": "/docs/mutex",
              "sidebar": "skill"
            },
            {
              "id": "skill/C/System/pipe",
              "path": "/docs/pipe",
              "sidebar": "skill"
            },
            {
              "id": "skill/C/System/posix",
              "path": "/docs/posix",
              "sidebar": "skill"
            },
            {
              "id": "skill/C/System/pro_api",
              "path": "/docs/pro_api",
              "sidebar": "skill"
            },
            {
              "id": "skill/C/System/process",
              "path": "/docs/process",
              "sidebar": "skill"
            },
            {
              "id": "skill/C/System/reen",
              "path": "/docs/reen",
              "sidebar": "skill"
            },
            {
              "id": "skill/C/System/rwlock",
              "path": "/docs/rwlock",
              "sidebar": "skill"
            },
            {
              "id": "skill/C/System/sem",
              "path": "/docs/sem",
              "sidebar": "skill"
            },
            {
              "id": "skill/C/System/shm",
              "path": "/docs/shm",
              "sidebar": "skill"
            },
            {
              "id": "skill/C/System/signal",
              "path": "/docs/signal",
              "sidebar": "skill"
            },
            {
              "id": "skill/C/System/thread",
              "path": "/docs/thread",
              "sidebar": "skill"
            },
            {
              "id": "skill/C/System/thread_pool",
              "path": "/docs/thread_pool",
              "sidebar": "skill"
            },
            {
              "id": "skill/C/System/thread_scheduling",
              "path": "/docs/thread_scheduling",
              "sidebar": "skill"
            },
            {
              "id": "skill/hardware/circuit/dc-dc",
              "path": "/docs/dc-dc"
            },
            {
              "id": "skill/hardware/component/Cap",
              "path": "/docs/Cap",
              "sidebar": "skill"
            },
            {
              "id": "skill/hardware/component/MOS",
              "path": "/docs/MOS",
              "sidebar": "skill"
            },
            {
              "id": "skill/hardware/component/Res",
              "path": "/docs/Res",
              "sidebar": "skill"
            },
            {
              "id": "skill/introduction",
              "path": "/docs/skill",
              "sidebar": "skill"
            },
            {
              "id": "skill/linux/Linux_introduction",
              "path": "/docs/Linux_introduction",
              "sidebar": "skill"
            },
            {
              "id": "skill/linux/Linux_shell",
              "path": "/docs/Linux_shell",
              "sidebar": "skill"
            },
            {
              "id": "skill/motor/pmsm/pmsm_motor",
              "path": "/docs/pmsm_motor",
              "sidebar": "skill"
            },
            {
              "id": "skill/other/look-up-port-and-kill-process",
              "path": "/docs/look-up-port-and-kill-process",
              "sidebar": "skill"
            },
            {
              "id": "tools/everything-quick-search-local-files",
              "path": "/docs/everything-quick-search-local-files",
              "sidebar": "tools"
            },
            {
              "id": "tools/introduction",
              "path": "/docs/tools",
              "sidebar": "tools"
            },
            {
              "id": "tools/vscode-config",
              "path": "/docs/vscode-config",
              "sidebar": "tools"
            },
            {
              "id": "tools/windows-custom-right-click-menu",
              "path": "/docs/windows-custom-right-click-menu",
              "sidebar": "tools"
            },
            {
              "id": "tools/windows-terminal-beautify",
              "path": "/docs/windows-terminal-beautify",
              "sidebar": "tools"
            },
            {
              "id": "/category/linux",
              "path": "/docs/category/linux",
              "sidebar": "skill"
            },
            {
              "id": "/category/c-è¯­è¨€",
              "path": "/docs/category/c-è¯­è¨€",
              "sidebar": "skill"
            },
            {
              "id": "/category/c-æŒ‡é’ˆ",
              "path": "/docs/category/c-æŒ‡é’ˆ",
              "sidebar": "skill"
            },
            {
              "id": "/category/c-å¤æ‚ç±»å‹",
              "path": "/docs/category/c-å¤æ‚ç±»å‹",
              "sidebar": "skill"
            },
            {
              "id": "/category/æ•°æ®ç»“æ„",
              "path": "/docs/category/æ•°æ®ç»“æ„",
              "sidebar": "skill"
            },
            {
              "id": "/category/io-ç¼–ç¨‹æŠ€æœ¯",
              "path": "/docs/category/io-ç¼–ç¨‹æŠ€æœ¯",
              "sidebar": "skill"
            },
            {
              "id": "/category/linux-ç³»ç»Ÿç¼–ç¨‹",
              "path": "/docs/category/linux-ç³»ç»Ÿç¼–ç¨‹",
              "sidebar": "skill"
            },
            {
              "id": "/category/linux-ç½‘ç»œç¼–ç¨‹",
              "path": "/docs/category/linux-ç½‘ç»œç¼–ç¨‹",
              "sidebar": "skill"
            },
            {
              "id": "/category/ç¡¬ä»¶åŸºç¡€",
              "path": "/docs/category/ç¡¬ä»¶åŸºç¡€",
              "sidebar": "skill"
            },
            {
              "id": "/category/å…ƒå™¨ä»¶åŸºç¡€",
              "path": "/docs/category/å…ƒå™¨ä»¶åŸºç¡€",
              "sidebar": "skill"
            },
            {
              "id": "/category/ç”µæœºæ§åˆ¶",
              "path": "/docs/category/ç”µæœºæ§åˆ¶",
              "sidebar": "skill"
            },
            {
              "id": "/category/æ‚é¡¹",
              "path": "/docs/category/æ‚é¡¹",
              "sidebar": "skill"
            },
            {
              "id": "/category/ç”µæœºæ§åˆ¶-1",
              "path": "/docs/category/ç”µæœºæ§åˆ¶-1",
              "sidebar": "project_group"
            },
            {
              "id": "/category/axdrive-l",
              "path": "/docs/category/axdrive-l",
              "sidebar": "project_group"
            }
          ],
          "draftIds": [],
          "sidebars": {
            "skill": {
              "link": {
                "path": "/docs/skill",
                "label": "skill/introduction"
              }
            },
            "tools": {
              "link": {
                "path": "/docs/tools",
                "label": "tools/introduction"
              }
            },
            "project_group": {
              "link": {
                "path": "/docs/project_group",
                "label": "project_group/introduction"
              }
            }
          }
        }
      ],
      "breadcrumbs": true
    }
  },
  "docusaurus-plugin-content-blog": {
    "default": {
      "blogs": [
        {
          "id": "/classic",
          "metadata": {
            "permalink": "/blog/classic",
            "editUrl": "https://github.com/disnox/blog/edit/main/blog/project/4. 100æ¡ç»å…¸Cè¯­è¨€ç¬”è¯•é¢˜ç›®.md",
            "source": "@site/blog/project/4. 100æ¡ç»å…¸Cè¯­è¨€ç¬”è¯•é¢˜ç›®.md",
            "title": "C è¯­è¨€ç»å…¸é¢˜ç›®",
            "description": "C è¯­è¨€ç»å…¸é¢˜ç›®",
            "date": "2022-12-17T00:00:00.000Z",
            "formattedDate": "2022å¹´12æœˆ17æ—¥",
            "tags": [
              {
                "label": "C/C++",
                "permalink": "/blog/tags/c-c"
              },
              {
                "label": "exam",
                "permalink": "/blog/tags/exam"
              }
            ],
            "readingTime": 16.89,
            "hasTruncateMarker": true,
            "authors": [
              {
                "name": "ğŸ“ºå°šå®‡",
                "title": "åµŒå…¥å¼ / å­¦ç”Ÿ",
                "url": "https://github.com/disnox",
                "imageURL": "/img/logo.webp",
                "key": "disnox"
              }
            ],
            "frontMatter": {
              "slug": "/classic",
              "title": "C è¯­è¨€ç»å…¸é¢˜ç›®",
              "date": "2022-12-17T00:00:00.000Z",
              "authors": "disnox",
              "tags": [
                "C/C++",
                "exam"
              ],
              "keywords": [
                "C/C++",
                "exam"
              ],
              "description": "C è¯­è¨€ç»å…¸é¢˜ç›®",
              "image": "/img/blog/question.png",
              "sticky": 1
            },
            "unlisted": false,
            "nextItem": {
              "title": "å•å‘é“¾è¡¨åˆ›å»ºçº¿ç¨‹æ± ",
              "permalink": "/blog/thread_pool1"
            }
          },
          "content": "C è¯­è¨€ç»å…¸é¢˜ç›®\n\n<!-- truncate -->\n\n### 1. è¯·å¡«å†™ bool , float,  æŒ‡é’ˆå˜é‡  ä¸â€œé›¶å€¼â€æ¯”è¾ƒçš„ if  è¯­å¥ã€‚\n\n æç¤ºï¼šè¿™é‡Œâ€œé›¶å€¼â€å¯ä»¥æ˜¯ 0, 0.0 , FALSE æˆ–è€…â€œç©ºæŒ‡é’ˆâ€ ã€‚ä¾‹å¦‚ int  å˜é‡ n  ä¸â€œé›¶å€¼â€æ¯”è¾ƒçš„ if  è¯­å¥ä¸ºï¼š \n\n```jsx showLineNumbers\nif (n == 0)\nif (n !=0)\n```\n\n**ï¼ˆ1ï¼‰è¯·å†™å‡º bool flag ä¸ â€œé›¶å€¼â€ æ¯”è¾ƒçš„ if è¯­å¥ã€‚**\n\n+ æ ‡å‡†ç­”æ¡ˆï¼š\n\n```jsx showLineNumbers\nif (flag)\t\nif (!flag)\n```\n\n+ ä¸è‰¯é£æ ¼ï¼š\n\n```jsx showLineNumbers\nif (flag == TRUE)\t\nif (flag == 1)\t\nif (flag == FALSE)\t\t\nif (flag == 0)\n```\n\n**ï¼ˆ2ï¼‰è¯·å†™å‡º float  x  ä¸ â€œé›¶å€¼â€ æ¯”è¾ƒçš„ if  è¯­å¥ã€‚**\n\n+ æ ‡å‡†ç­”æ¡ˆï¼š\n\n```jsx showLineNumbers\nconst float EPSINON = 0.0001;\nif (x >= -EPSINON)\n```\n\n**æ³¨æ„ï¼šä¸å¯å°†æµ®ç‚¹å˜é‡ç”¨â€œ==â€æˆ–â€œï¼=â€ä¸æ•°å­—æ¯”è¾ƒï¼Œåº”è¯¥è®¾æ³•è½¬åŒ–æˆ â€œ>=â€ æˆ– â€œ<=â€ æ­¤ç±»å½¢å¼ã€‚** \n\n+ é”™è¯¯å†™æ³•\n\n```jsx showLineNumbers\nif (x == 0.0)\nif (x != 0.0)\n```\n\n**ï¼ˆ3ï¼‰è¯·å†™å‡º char  *p  ä¸â€œé›¶å€¼â€æ¯”è¾ƒçš„ if  è¯­å¥ã€‚**\n\n+ æ ‡å‡†ç­”æ¡ˆ\n\n```jsx showLineNumbers\nif (p == NULL)\nif (p != NULL)\n```\n\n+ é”™è¯¯å†™æ³•\n\n```jsx showLineNumbers\nif (p == 0)\nif (p != 0)\nif (p)\n```\n\n### 2. ä»¥ä¸‹ä¸ºLinuxä¸‹çš„32ä½Cç¨‹åºï¼Œè¯·è®¡ç®—sizeofçš„å€¼ã€‚\n\n```jsx showLineNumbers\n(1) char str[] = â€œhelloâ€;\t(2) char *p = str;\t(3) int n = 10;\n(4) void Func(char str[100]);\t(5) void *p = malloc(100);\n```\n\n**è¯·è®¡ç®—ï¼š**\n\n```jsx showLineNumbers\n(1) sizeof (str) =  6;\t(2) sizeof(p) = 4;\t (3) sizeof(n) = 4;\n(4) sizeof (str) =  4;\t(5) sizeof(p) = 4;\n```\n\n### 3. long a=0x801010ï¼Œa+5 = ï¼Ÿ\n\n| **åå…­è¿›åˆ¶** |    **8**    |  **0**   |  **1**   |  **0**   |  **1**   |  **0**   |\n| :----------: | :---------: | :------: | :------: | :------: | :------: | :------: |\n|  **äºŒè¿›åˆ¶**  |  **1000**   | **0000** | **0001** | **0000** | **0001** | **0000** |\n|  **åè¿›åˆ¶**  | **8388608** |  **0**   | **4096** |  **0**   |  **16**  |  **0**   |\n\næ‰€ä»¥ a çš„åè¿›åˆ¶ä¸ºï¼š**8392720**ã€‚\n\n```jsx showLineNumbers\na + 5 = 8392725;\n```\n\n### 4. ç”¨å˜é‡ a ç»™å‡ºä¸‹é¢å®šä¹‰:\n\n1. ä¸€ä¸ªæœ‰10ä¸ªæŒ‡é’ˆçš„æ•°ç»„ï¼Œè¯¥æŒ‡é’ˆæ˜¯æŒ‡å‘ä¸€ä¸ªæ•´å‹æ•°çš„;\n\n```jsx showLineNumbers\nint *a[10];\n```\n\n2. ä¸€ä¸ªæŒ‡å‘æœ‰10ä¸ªæ•´å‹æ•°æ•°ç»„çš„æŒ‡é’ˆ;\n\n```jsx showLineNumbers\nint (*a)[10];\n```\n\n3. ä¸€ä¸ªæŒ‡å‘å‡½æ•°çš„æŒ‡é’ˆï¼Œè¯¥å‡½æ•°æœ‰ä¸€ä¸ªæ•´å‹å‚æ•°å¹¶è¿”å›ä¸€ä¸ªæ•´å‹æ•°;\n\n```jsx showLineNumbers\nint (*a)(int);\n```\n\n4. ä¸€ä¸ªæœ‰10ä¸ªæŒ‡é’ˆçš„æ•°ç»„ï¼Œè¯¥æŒ‡é’ˆæŒ‡å‘ä¸€ä¸ªå‡½æ•°ï¼Œè¯¥  \tå‡½æ•°æœ‰ä¸€ä¸ªæ•´å‹å‚æ•°å¹¶è¿”å›ä¸€ä¸ªæ•´å‹æ•°;\n\n```jsx showLineNumbers\nint (*a[10])(int);\n```\n\n### 5. è®¾æœ‰ä»¥ä¸‹å®šä¹‰è¯´æ˜:\n\n```jsx showLineNumbers\ntypedef union {\n    long i; \t// 8\n    int k[5]; \t// 20\n    char c;\t\t// 1\n} DATE;\n\nstruct data { \n    int cat; \t// 4\n    DATE cow; \t// 20\n    double dog;\t// 8\n} too;\n\nDATE max;\t\t// 20\n```\n\nåˆ™è¯­å¥ `printf(\"%d\",sizeof(struct date)+sizeof(max));` çš„æ‰§è¡Œç»“æœæ˜¯ï¼š\\__52\\__\n\n### 6. è¯·é—®ä¸‹é¢çš„ä»£ç æœ‰ä»€ä¹ˆé—®é¢˜?\n\n```jsx showLineNumbers\nint main(int argc, char *argv[]) \n{\n\tchar a;\n\tchar *str=&a;\n\tstrcpy(str,\"hello\");\n\tprintf(str);\n\treturn 0;\n}\n```\n\n**æ²¡æœ‰ä¸º str åˆ†é…å†…å­˜ç©ºé—´ï¼Œå¯èƒ½ä¼šå‘ç”Ÿå¼‚å¸¸ã€‚**\n\n### 7. è¯·é—®ä¸‹é¢çš„ä»£ç æœ‰ä»€ä¹ˆé—®é¢˜?\n\n```jsx showLineNumbers\nint main(int argc, char *argv[])\n{\n\tchar *s = \"AAA\";\n    printf(\"%s\", s);\n    s[0] = 'B';\n    printf(\"%s\", s);\n}\n```\n\n\"AAA\" æ˜¯å­—ç¬¦ä¸²å¸¸é‡ã€‚s æ˜¯æŒ‡é’ˆï¼ŒæŒ‡å‘è¿™ä¸ªå­—ç¬¦ä¸²å¸¸é‡ï¼Œæ‰€ä»¥åº”è¯¥è¿™æ ·å£°æ˜ s : cosnt char* s=\"AAA\";ç„¶ååˆå› ä¸ºæ˜¯å¸¸é‡ï¼Œæ‰€ä»¥å¯¹æ˜¯s[0]çš„èµ‹å€¼æ“ä½œæ˜¯ä¸åˆæ³•çš„ã€‚\n\n### 8.  int (*s[10])(int) è¡¨ç¤ºçš„æ˜¯ä»€ä¹ˆ?\n\n`int (*s[10])(int)` æ˜¯å‡½æ•°æŒ‡é’ˆæ•°ç»„ï¼Œæ¯ä¸ªæŒ‡é’ˆæŒ‡å‘ä¸€ä¸ª `int func(int param)` çš„å‡½æ•°ã€‚\n\n### 9. c å’Œ c++ ä¸­çš„ struct æœ‰ä»€ä¹ˆä¸åŒï¼Ÿ\n\nc å’Œ c++ ä¸­ struct çš„ä¸»è¦åŒºåˆ«æ˜¯ c ä¸­çš„ struct ä¸å¯ä»¥å«æœ‰æˆå‘˜å‡½æ•°ï¼Œè€Œ c++ ä¸­çš„ struct å¯ä»¥ã€‚\n\n### 10. ä¸‹é¢çš„ä»£ç ä¼šå‡ºç°ä»€ä¹ˆé—®é¢˜ï¼Ÿ\n\n```jsx showLineNumbers\nvoid getmemory(char *p)\n{\n\tp=(char *) malloc(100);\n\tstrcpy(p,â€œhello worldâ€);\n}\nint main(int argc, char *argv[])\n{\n\tchar *str=NULL;\n\tgetmemory(str);\n\tprintf(â€œ%s/nâ€,str);\n\tfree(str);\n\treturn 0;\n}\n```\n\nä¼šå¯¼è‡´ç¨‹åºå´©æºƒï¼Œå› ä¸º getmemory å‡½æ•°ä¸­çš„ malloc ä¸èƒ½è¿”å›åŠ¨æ€å†…å­˜ï¼Œ free(str) çš„æ“ä½œå¾ˆå±é™©ã€‚\n\n### 11. ä¸‹é¢çš„ä»£ç ä¼šå‡ºç°ä»€ä¹ˆé—®é¢˜ï¼Ÿ\n\n```jsx showLineNumbers\nchar szstr[10];\nstrcpy(szstr,\"0123456789\");\n```\n\nå‡ºç°æ®µé”™è¯¯ï¼Œå› ä¸ºå­—ç¬¦ä¸²çš„æœ€åé¢è¿˜æœ‰ â€˜\\0â€™ ç»“æŸç¬¦ï¼Œä¸Šé¢çš„æ•°ç»„é•¿åº¦åªæœ‰10ï¼Œè€Œå­—ç¬¦ä¸²é•¿åº¦æ˜¯11ï¼Œæ‰€ä»¥æ•°ç»„è¶Šç•Œã€‚\n\n### 12. æ•°ç»„å’Œé“¾è¡¨çš„åŒºåˆ«ï¼Ÿ\n\n+ æ•°ç»„ï¼šæ•°æ®é¡ºåºå­˜å‚¨ï¼Œå›ºå®šå¤§å°\n+ é“¾è¡¨ï¼šæ•°æ®å¯ä»¥éšæœºå­˜å‚¨ï¼Œå¤§å°å¯åŠ¨æ€æ”¹å˜\n\n### 13. ä¸‹é¢çš„ä»£ç ä¼šå‡ºç°ä»€ä¹ˆé—®é¢˜ï¼Œæ‰“å°ç»“æœæ˜¯ä»€ä¹ˆï¼Ÿ\n\n```jsx showLineNumbers\nvoid main(int argc, char *argv[])\n{\n\tchar aa[10];\n\tprintf(\"%d\", strlen(aa));\n    printf(\"%d\", sizeof(aa));\n}\n```\n\nstrlen(aa) æ‰“å°ç»“æœæœªçŸ¥ï¼Œå› ä¸ºæ•°ç»„ aa[10] æ˜¯å±€éƒ¨å˜é‡ï¼Œæ²¡æœ‰å¯¹å®ƒè¿›è¡Œåˆå§‹åŒ–ï¼Œç³»ç»Ÿä¼šé»˜è®¤èµ‹ä¸€äº›åƒåœ¾å€¼ç»™å®ƒï¼Œæ‰€ä»¥ç›´æ¥ä½¿ç”¨ strlen å»è®¡ç®—å®ƒçš„é•¿åº¦æ˜¯æœªçŸ¥çš„ã€‚\n\nsizeof(aa) çš„æ‰“å°ç»“æœä¸º10ï¼Œsizeof çš„ä½¿ç”¨å’Œåˆå§‹åŒ–æ²¡æœ‰å…³ç³»ï¼Œå®ƒä¼šç›´æ¥è®¡ç®—å‡ºè¿™ä¸ªæ•°ç»„çš„é•¿åº¦ã€‚\n\n### 14. ä¸‹é¢ç»“æ„ä½“çš„å¤§å°ï¼Ÿ\n\n```jsx showLineNumbers\nsruct  A {\n\tchar t:4;\t\t\t// 4ä½\n\tchar k:4;\t\t\t// 4ä½\n\tunsigned short i:8;\t// 8ä½ è¿™é‡Œè¦åç§»2å­—èŠ‚ä¿è¯4å­—èŠ‚å¯¹é½\n\tunsigned long m;\t// 4ä½\n};\n```\n\næ‰€ä»¥ sizeof(A) = 8ï¼›\n\n### 15. ä¸‹é¢ç»“æ„ä½“çš„å¤§å°ï¼Ÿ\n\n```jsx showLineNumbers\nstruct name1 {\n\tchar str;\t\t// 1\n\tshort x;\t\t// 2\t\t\n\tint num;\t\t// 4\n};\n```\n\næ‰€ä»¥ sizeof(name1) = 8ï¼›\n\n### 16. ä¸‹é¢ç»“æ„ä½“çš„å¤§å°ï¼Ÿ\n\n```jsx showLineNumbers\nstruct name2 {\n\tchar str;\t\t// 1\n\tint num;\t\t// 4\n\tshort x;\t\t// 2\n};\n```\n\næ‰€ä»¥ sizeof(name2) = 12ï¼›\n\n### 17. ä¸‹é¢çš„ç¨‹åºæœ‰ä»€ä¹ˆé”™è¯¯ï¼Ÿ\n\n```jsx showLineNumbers\nwap( int* p1,int* p2 )\n{\n    int *p;\n    *p = *p1;\n    *p1 = *p2;\n    *p2 = *p;\n}\n```\n\næŒ‡é’ˆ p æ²¡æœ‰èµ‹åˆå€¼ï¼Œå˜æˆäº†é‡æŒ‡é’ˆã€‚\n\n### 18. c++ çš„ struct å’Œ class æœ‰ä»€ä¹ˆä¸åŒï¼Ÿ\n\nc++ ä¸­ struct å’Œ class çš„ä¸»è¦åŒºåˆ«åœ¨äºé»˜è®¤çš„å­˜å–æƒé™ä¸åŒï¼Œstruct é»˜è®¤ä¸º publicï¼Œè€Œ class é»˜è®¤ä¸º privateã€‚\n\n### 19. (void \\*)ptr å’Œ (\\*(void\\*\\*))ptrçš„ç»“æœæ˜¯å¦ç›¸åŒï¼Ÿå…¶ä¸­pträ¸ºåŒä¸€ä¸ªæŒ‡é’ˆã€‚\n\n```jsx showLineNumbers\n(void *)ptr å’Œ (*(void **))ptrå€¼æ˜¯ç›¸åŒçš„ã€‚\n```\n\n### 20. æ€ä¹ˆå¯¹åœ°å€ 0x100000 èµ‹å€¼?\n\n```jsx showLineNumbers\n(unsigned int *)0x100000 = 1234;\n```\n\n**é‚£ä¹ˆè¦æ˜¯æƒ³è®©ç¨‹åºè·³è½¬åˆ°ç»å¯¹åœ°å€æ˜¯0x100000å»æ‰§è¡Œï¼Œåº”è¯¥æ€ä¹ˆåšï¼Ÿ**\n\n```jsx showLineNumbers\né¦–å…ˆè¦å°† 0x100000 å¼ºåˆ¶è½¬æ¢æˆå‡½æ•°æŒ‡é’ˆ,å³:\n(void (*)())0x100000\nç„¶åå†è°ƒç”¨å®ƒ:\n*((void (*)())0x100000)();\n```\n\n### 21. int a,b,c; è¯·å†™å‡½æ•°å®ç° c=a+b ,ä¸å¯ä»¥æ”¹å˜æ•°æ®ç±»å‹ï¼Œå¦‚å°† c æ”¹ä¸ºlong intï¼Œå¦‚ä½•å¤„ç†æº¢å‡ºé—®é¢˜\n\n```jsx showLineNumbers\nbool add (int a, int b,int *c)\n{\n\t*c = a+b;\n\treturn (a>0 && b>0 &&(*c<a || *c<b) || (a<0 && b<0&&(*c>a || *c>b)));\n}\n```\n\n### 22. å†…å­˜æ€è€ƒé¢˜ï¼Œä¸‹é¢ä»£ç ä½ èƒ½çœ‹å‡ºæœ‰ä»€ä¹ˆé—®é¢˜ï¼Ÿ\n\n+ **ç¤ºä¾‹1ï¼šè¿è¡Œ test å‡½æ•°ä¼šå‡ºç°ä»€ä¹ˆé—®é¢˜ï¼Ÿ**\n\n```jsx showLineNumbers\nvoid getmemory(char *p)\n{\n    p = (char *)malloc(100);\n}\n\nvoid test(void)\n{\n\tchar *str = NULL;\n    getmemory(str);\n\tstrcpy(str, \"hello world\");\n\tprintf(\"%s\", str);\n}\n```\n\nç¨‹åºå´©æºƒï¼Œå› ä¸º getmemory å¹¶ä¸èƒ½ä¼ é€’åŠ¨æ€å†…å­˜ï¼Œtest å‡½æ•°ä¸­çš„ str ä¸€ç›´éƒ½æ˜¯ NULL ã€‚æ‰€ä»¥strcpy(str,â€hello worldâ€) å°†ä½¿ç¨‹åºå´©æºƒã€‚\n\n+ **ç¤ºä¾‹2ï¼šè¿è¡Œ test å‡½æ•°ä¼šå‡ºç°ä»€ä¹ˆé—®é¢˜ï¼Ÿ**\n\n```jsx showLineNumbers\nvoid *getmemory(void)\n{\n    char p[] = \"hello world\";\n    return p;\n}\n\nvoid test(void)\n{\n\tchar *str = NULL;\n    str = getmemory();\n\tprintf(\"%s\", str);\n}\n```\n\nå¯èƒ½è¾“å‡ºæ˜¯ä¹±ç ã€‚å› ä¸º getmemory è¿”å›çš„æ˜¯æŒ‡å‘æ ˆå†…å­˜çš„æŒ‡é’ˆï¼Œè¯¥æŒ‡é’ˆçš„åœ°å€ä¸æ˜¯NULLï¼Œä½†å…¶åŸå…ˆçš„å†…å®¹å·²ç»è¢«æ¸…é™¤ï¼Œæ–°å†…å®¹ä¸å¯çŸ¥ã€‚\n\n+ **ç¤ºä¾‹3ï¼šè¿è¡Œ test å‡½æ•°ä¼šå‡ºç°ä»€ä¹ˆé—®é¢˜ï¼Ÿ**\n\n```jsx showLineNumbers\nvoid getmemory(char **p, int num)\n{\n    *p = (char *)malloc(num);\n}\n\nvoid test(void)\n{\n\tchar *str = NULL;\n    getmemory(&str, 100);\n\tstrcpy(str, \"hello\");\n\tprintf(\"%s\", str);\n}\n```\n\nèƒ½å¤Ÿè¾“å‡º helloï¼Œä½†æ˜¯å†…å­˜æ³„æ¼ã€‚\n\n+ **ç¤ºä¾‹4ï¼šè¿è¡Œ test å‡½æ•°ä¼šå‡ºç°ä»€ä¹ˆé—®é¢˜ï¼Ÿ**\n\n```jsx showLineNumbers\nvoid test(void)\n{\n\tchar *str = (char *)malloc(100);\n\tstrcpy(str, \"hello\");\n\tfree(str);\n\tif(str != NULL) {\n        strcpy(str, \"world\");\n        printf(\"%s\", str);\n    }\n}\n```\n\nç¯¡æ”¹åŠ¨æ€å†…å­˜åŒºçš„å†…å®¹ï¼Œåæœéš¾ä»¥é¢„æ–™éå¸¸å±é™©ã€‚å› ä¸ºfree(str)ä¹‹å stræˆä¸ºé‡æŒ‡é’ˆï¼Œifï¼ˆstr ï¼= NULLï¼‰è¯­å¥ä¸èµ·ä½œç”¨ã€‚\n\n### 27.  å…³é”®å­—volatileæœ‰ä»€ä¹ˆå«æ„? å¹¶ç»™å‡ºä¸‰ä¸ªä¸åŒçš„ä¾‹å­ã€‚\n\nä¸€ä¸ªå®šä¹‰ä¸º volatile çš„å˜é‡æ˜¯è¯´è¿™å˜é‡å¯èƒ½ä¼šè¢«æ„æƒ³ä¸åˆ°åœ°æ”¹å˜ï¼Œè¿™æ ·ï¼Œç¼–è¯‘å™¨å°±ä¸ä¼šå»å‡è®¾è¿™ä¸ªå˜é‡çš„å€¼äº†ã€‚ç²¾ç¡®åœ°è¯´å°±æ˜¯ï¼Œä¼˜åŒ–å™¨åœ¨ç”¨åˆ°è¿™ä¸ªå˜é‡æ—¶å¿…é¡»æ¯æ¬¡éƒ½å°å¿ƒåœ°é‡æ–°è¯»å–è¿™ä¸ªå˜é‡çš„å€¼ï¼Œè€Œä¸æ˜¯ä½¿ç”¨ä¿å­˜åœ¨å¯„å­˜å™¨é‡Œçš„å¤‡ä»½ã€‚\n\nä¸‹é¢æ˜¯volatileå˜é‡çš„å‡ ä¸ªä¾‹å­ï¼š \n\n+ å¹¶è¡Œè®¾å¤‡çš„ç¡¬ä»¶å¯„å­˜å™¨ï¼ˆå¦‚ï¼šçŠ¶æ€å¯„å­˜å™¨ï¼‰ ã€‚\n+ ä¸€ä¸ªä¸­æ–­æœåŠ¡å­ç¨‹åºä¸­ä¼šè®¿é—®åˆ°çš„éè‡ªåŠ¨å˜é‡ (Non-automatic variables) ã€‚\n+ å¤šçº¿ç¨‹åº”ç”¨ä¸­è¢«å‡ ä¸ªä»»åŠ¡å…±äº«çš„å˜é‡ ã€‚\n\n### 28. ç¼–å†™ä¸‹é¢è¦æ±‚çš„ä»£ç ã€‚\n\nåµŒå…¥å¼ç³»ç»Ÿç»å¸¸å…·æœ‰è¦æ±‚ç¨‹åºå‘˜å»è®¿é—®æŸç‰¹å®šçš„å†…å­˜ä½ç½®çš„ç‰¹ç‚¹ã€‚åœ¨æŸå·¥ç¨‹ä¸­ï¼Œè¦æ±‚è®¾ç½®ä¸€ç»å¯¹åœ°å€ä¸º 0x67a9 çš„æ•´å‹å˜é‡çš„å€¼ä¸º 0xaa66ã€‚ç¼–è¯‘å™¨æ˜¯ä¸€ä¸ªçº¯ç²¹çš„ANSIç¼–è¯‘å™¨ã€‚å†™ä»£ç å»å®Œæˆè¿™ä¸€ä»»åŠ¡ã€‚\n\n```jsx showLineNumbers\nint *ptr; \nptr = (int *)0x67a9; \n*ptr = 0xaa55;\n```\n\n### 29. å¤´æ–‡ä»¶ä¸­çš„ ifndef/define/endif æ˜¯åšä»€ä¹ˆçš„ï¼Ÿ\n\né˜²æ­¢è¯¥å¤´æ–‡ä»¶è¢«é‡å¤å¼•ç”¨ã€‚  \n\n### 30. \\#include <filename.h\\> å’Œ \\#include  â€œfilename.hâ€ æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ\n\n+ å¯¹äº \\#include  <filename.h\\> æ¥è¯´ç¼–è¯‘å™¨ä¼šä»æ ‡å‡†åº“è·¯å¾„å¼€å§‹æœç´¢ filename.h ã€‚\n+ å¯¹äº \\#include  â€œfilename.hâ€ æ¥è¯´ç¼–è¯‘å™¨ä»ç”¨æˆ·çš„å·¥ä½œè·¯å¾„å¼€å§‹æœç´¢ filename.h ã€‚\n\n### 31. const  æœ‰ä»€ä¹ˆç”¨é€”ï¼Ÿ\n\n+ å¯ä»¥å®šä¹‰ const  å¸¸é‡\n+ const å¯ä»¥ä¿®é¥°å‡½æ•°çš„å‚æ•°ã€è¿”å›å€¼ï¼Œç”šè‡³å‡½æ•°çš„å®šä¹‰ä½“ã€‚\n+ è¢« const ä¿®é¥°çš„ä¸œè¥¿éƒ½å—åˆ°å¼ºåˆ¶ä¿æŠ¤ï¼Œå¯ä»¥é¢„é˜²æ„å¤–çš„å˜åŠ¨ï¼Œèƒ½æé«˜ç¨‹åºçš„å¥å£®æ€§ã€‚  \n\n### 32.  staticæœ‰ä»€ä¹ˆç”¨é€”ï¼Ÿ\n\n+ é™åˆ¶å˜é‡çš„ä½œç”¨åŸŸï¼ˆstaticå…¨å±€å˜é‡ï¼‰ã€‚\n+ è®¾ç½®å˜é‡çš„å­˜å‚¨åŸŸï¼ˆstaticå±€éƒ¨å˜é‡ï¼‰ã€‚\n+ ä¿®é¥°å‡½æ•°åªå¯¹æœ¬æ–‡ä»¶å¯è§ã€‚\n\n### 33. å †æ ˆæº¢å‡ºä¸€èˆ¬æ˜¯ç”±ä»€ä¹ˆåŸå› å¯¼è‡´çš„ï¼Ÿ\n\n+ æ²¡æœ‰å›æ”¶åƒåœ¾èµ„æºã€‚\n\n### 34. å¦‚ä½•å¼•ç”¨ä¸€ä¸ªå·²ç»å®šä¹‰è¿‡çš„å…¨å±€å˜é‡ï¼Ÿ\n\nå¯ä»¥ç”¨å¼•ç”¨å¤´æ–‡ä»¶çš„æ–¹å¼ï¼Œä¹Ÿå¯ä»¥ç”¨ extern å…³é”®å­—ï¼Œå¦‚æœç”¨å¼•ç”¨å¤´æ–‡ä»¶æ–¹å¼æ¥å¼•ç”¨æŸä¸ªåœ¨å¤´æ–‡ä»¶ä¸­å£°æ˜çš„å…¨å±€å˜ç†ï¼Œå‡å®šé‚£ä¸ªå˜é‡å†™é”™äº†ï¼Œé‚£ä¹ˆåœ¨ç¼–è¯‘æœŸé—´ä¼šæŠ¥é”™ï¼Œå¦‚æœç”¨ extern æ–¹å¼å¼•ç”¨æ—¶ï¼Œå‡å®šçŠ¯äº†åŒæ ·çš„é”™è¯¯ï¼Œé‚£ä¹ˆåœ¨ç¼–è¯‘æœŸé—´ä¸ä¼šæŠ¥é”™ï¼Œè€Œåœ¨è¿æ¥æœŸé—´æŠ¥é”™ã€‚\n\n### 35. å…¨å±€å˜é‡å¯ä¸å¯ä»¥å®šä¹‰åœ¨å¯è¢«å¤šä¸ª.Cæ–‡ä»¶åŒ…å«çš„å¤´æ–‡ä»¶ä¸­ï¼Ÿä¸ºä»€ä¹ˆï¼Ÿ\n\nå¯ä»¥ï¼Œåœ¨ä¸åŒçš„ C æ–‡ä»¶ä¸­ä»¥ static å½¢å¼æ¥å£°æ˜åŒåå…¨å±€å˜é‡ã€‚å¯ä»¥åœ¨ä¸åŒçš„Cæ–‡ä»¶ä¸­å£°æ˜åŒåçš„å…¨å±€å˜é‡ï¼Œå‰ææ˜¯å…¶ä¸­åªèƒ½æœ‰ä¸€ä¸ª C æ–‡ä»¶ä¸­å¯¹æ­¤å˜é‡èµ‹åˆå€¼ï¼Œæ­¤æ—¶è¿æ¥ä¸ä¼šå‡ºé”™ã€‚\n\n### 36. é˜Ÿåˆ—å’Œæ ˆæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ\n\né˜Ÿåˆ—å…ˆè¿›å…ˆå‡ºï¼Œæ ˆå…ˆè¿›åå‡ºã€‚\n\n### 37. heap ä¸ stack çš„å·®åˆ«ã€‚\n\n+ heapæ˜¯å †ï¼Œstackæ˜¯æ ˆã€‚\n+ stackçš„ç©ºé—´ç”±æ“ä½œç³»ç»Ÿè‡ªåŠ¨åˆ†é…/é‡Šæ”¾ï¼Œheapä¸Šçš„ç©ºé—´æ‰‹åŠ¨åˆ†é…/é‡Šæ”¾ã€‚\n+ stackç©ºé—´æœ‰é™ï¼Œheapæ˜¯å¾ˆå¤§çš„è‡ªç”±å­˜å‚¨åŒºã€‚\n+ Cä¸­çš„mallocå‡½æ•°åˆ†é…çš„å†…å­˜ç©ºé—´å³åœ¨å †ä¸Š,C++ä¸­å¯¹åº”çš„æ˜¯newæ“ä½œç¬¦ã€‚\n+ ç¨‹åºåœ¨ç¼–è¯‘æœŸå¯¹å˜é‡å’Œå‡½æ•°åˆ†é…å†…å­˜éƒ½åœ¨æ ˆä¸Šè¿›è¡Œï¼Œä¸”ç¨‹åºè¿è¡Œè¿‡ç¨‹ä¸­å‡½æ•°è°ƒç”¨æ—¶å‚æ•°çš„ä¼ é€’ä¹Ÿåœ¨æ ˆä¸Šè¿›è¡Œã€‚\n\n### 38. ç”¨å®å®šä¹‰å†™å‡ºswapï¼ˆxï¼Œyï¼‰ï¼Œå³äº¤æ¢ä¸¤æ•°ã€‚\n\n```jsx showLineNumbers\n#define swap(x, y) (x)=(x)+(y);(y)=(x)â€“(y);(x)=(x)â€“(y);\n```\n\n### 39. å†™ä¸€ä¸ªâ€œæ ‡å‡†â€å®ï¼Œè¿™ä¸ªå®è¾“å…¥ä¸¤ä¸ªå‚æ•°å¹¶è¿”å›è¾ƒå°çš„ä¸€ä¸ªã€‚\n\n```jsx showLineNumbers\n#define Min(X, Y) ((X)>(Y)?(Y):(X))\t//ç»“å°¾æ²¡æœ‰;\n```\n\n### 40. å¸¦å‚å®ä¸å¸¦å‚å‡½æ•°çš„åŒºåˆ«ï¼Ÿ\n\n- å¸¦å‚å®çš„æ‰§è¡Œæ•ˆç‡è¦é«˜äºå¸¦å‚å‡½æ•°ã€‚å› ä¸ºå¸¦å‚å®çš„ä»£ç æ˜¯åœ¨é¢„å¤„ç†é˜¶æ®µç›´æ¥æ›¿æ¢è¿›ç¨‹åºä»£ç ä¸­çš„ï¼Œæ‰€ä»¥ä¸éœ€è¦åœ¨è¿è¡Œæ—¶è°ƒç”¨å‡½æ•°å’Œè¿”å›ï¼Œæ‰€ä»¥å¸¦å‚å®çš„æ‰§è¡Œæ•ˆç‡è¦é«˜äºå¸¦å‚å‡½æ•°ã€‚\n- å¸¦å‚å®ä¸æ£€æŸ¥æ•°æ®ç±»å‹ã€‚å¸¦å‚å®åœ¨é¢„å¤„ç†é˜¶æ®µè¿›è¡Œæ›¿æ¢ï¼Œè€Œä¸æ˜¯åœ¨è¿è¡Œæ—¶è¿›è¡Œè°ƒç”¨ï¼Œæ‰€ä»¥å¸¦å‚å®ä¸ä¼šæ£€æŸ¥å‚æ•°çš„æ•°æ®ç±»å‹ã€‚\n- ä½¿ç”¨å¸¦å‚å®æ—¶ä¼ é€’äº†é”™è¯¯çš„å‚æ•°ç±»å‹ï¼Œåœ¨ç¼–è¯‘æ—¶å¯èƒ½ä¸ä¼šæŠ¥é”™ï¼Œä½†æ˜¯åœ¨è¿è¡Œæ—¶ä¼šå‡ºç°æ„æƒ³ä¸åˆ°çš„é”™è¯¯ã€‚\n- å¸¦å‚å‡½æ•°ä¼šåœ¨ç¼–è¯‘æ—¶æ£€æŸ¥å‚æ•°çš„æ•°æ®ç±»å‹ï¼Œå› æ­¤åœ¨ç¼–è¯‘æ—¶å°±èƒ½å‘ç°é”™è¯¯ã€‚\n\n### 41. å…³é”®å­—volatileæœ‰ä»€ä¹ˆå«æ„ï¼Ÿ\n\næç¤ºç¼–è¯‘å™¨å¯¹è±¡çš„å€¼å¯èƒ½åœ¨ç¼–è¯‘å™¨æœªç›‘æµ‹åˆ°çš„æƒ…å†µä¸‹æ”¹å˜ã€‚\n\n### 42. ä¸‹é¢è¿™ä¸ªå‡½æ•°æ—¢ç„¶ä¸ä¼šè¢«å…¶å®ƒå‡½æ•°è°ƒç”¨ï¼Œä¸ºä»€ä¹ˆè¦è¿”å›1ï¼Ÿ\n\n```jsx showLineNumbers\nint main(int argc, char *argv[])\n{\n\tint x=3;\n\tprintf(\"%d\",x);\n\treturn 1;\n}\n```\n\nmian ä¸­ï¼Œc æ ‡å‡†è®¤ä¸º 0 è¡¨ç¤ºæˆåŠŸï¼Œé 0 è¡¨ç¤ºé”™è¯¯ã€‚å…·ä½“çš„å€¼æ˜¯æŸä¸­å…·ä½“å‡ºé”™ä¿¡æ¯ã€‚\n\n### 43. å·²çŸ¥ä¸€ä¸ªæ•°ç»„tableï¼Œç”¨ä¸€ä¸ªå®å®šä¹‰ï¼Œæ±‚å‡ºæ•°æ®çš„å…ƒç´ ä¸ªæ•°ã€‚\n\n```jsx showLineNumbers\n#define NTBL(table) (sizeof(table)/sizeof(table[0]))\n```\n\n### 44. A.c å’ŒB.cä¸¤ä¸ªcæ–‡ä»¶ä¸­ä½¿ç”¨äº†ä¸¤ä¸ªç›¸åŒåå­—çš„staticå˜é‡,ç¼–è¯‘çš„æ—¶å€™ä¼šä¸ä¼šæœ‰é—®é¢˜?è¿™ä¸¤ä¸ªstaticå˜é‡ä¼šä¿å­˜åˆ°å“ªé‡Œï¼ˆæ ˆè¿˜æ˜¯å †æˆ–è€…å…¶ä»–çš„ï¼‰?\n\n+ static ä¿®é¥°çš„å…¨å±€å˜é‡ï¼Œè¡¨æ˜è¿™ä¸ªå˜é‡ä»…åœ¨æœ¬æ¨¡å—ä¸­æœ‰æ„ä¹‰ï¼Œä¸ä¼šå½±å“å…¶ä»–æ¨¡å—ã€‚\n+ ä»–ä»¬éƒ½æ”¾åœ¨é™æ€æ•°æ®åŒºï¼Œä½†æ˜¯ç¼–è¯‘å™¨å¯¹ä»–ä»¬çš„å‘½åæ˜¯ä¸åŒçš„ã€‚\n+ å¦‚æœè¦ä½¿å˜é‡åœ¨å…¶ä»–æ¨¡å—ä¹Ÿæœ‰æ„ä¹‰çš„è¯ï¼Œéœ€è¦ä½¿ç”¨externå…³é”®å­—ã€‚\n\n### 45. staticå…¨å±€å˜é‡ä¸æ™®é€šçš„å…¨å±€å˜é‡æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ\n\n+ staticå…¨å±€å˜é‡åªåˆä½¿åŒ–ä¸€æ¬¡ï¼Œé˜²æ­¢åœ¨å…¶ä»–æ–‡ä»¶å•å…ƒä¸­è¢«å¼•ç”¨ã€‚\n\n### 46. staticå±€éƒ¨å˜é‡å’Œæ™®é€šå±€éƒ¨å˜é‡æœ‰ä»€ä¹ˆåŒºåˆ«?\n\n+ staticå±€éƒ¨å˜é‡åªè¢«åˆå§‹åŒ–ä¸€æ¬¡ï¼Œä¸‹ä¸€æ¬¡ä¾æ®ä¸Šä¸€æ¬¡ç»“æœå€¼ï¼›\n\n### 47. staticå‡½æ•°ä¸æ™®é€šå‡½æ•°æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ\n\n+ staticå‡½æ•°åœ¨å†…å­˜ä¸­åªæœ‰ä¸€ä»½ï¼Œæ™®é€šå‡½æ•°åœ¨æ¯ä¸ªè¢«è°ƒç”¨ä¸­ç»´æŒä¸€ä»½æ‹·è´\n\n:::info å…³äº45-47çš„å‚è€ƒæ–‡ç« \n\n   å…¨å±€å˜é‡(å¤–éƒ¨å˜é‡)çš„è¯´æ˜ä¹‹å‰å†å† ä»¥static å°±æ„æˆäº†é™æ€çš„å…¨å±€å˜é‡ã€‚å…¨å±€å˜é‡æœ¬èº«å°±æ˜¯é™æ€å­˜å‚¨æ–¹å¼ï¼Œ é™æ€å…¨å±€å˜é‡å½“ç„¶ä¹Ÿæ˜¯é™æ€å­˜å‚¨æ–¹å¼ã€‚ è¿™ä¸¤è€…åœ¨å­˜å‚¨æ–¹å¼ä¸Šå¹¶æ— ä¸åŒã€‚è¿™ä¸¤è€…çš„åŒºåˆ«è™½åœ¨äºéé™æ€å…¨å±€å˜é‡çš„ä½œç”¨åŸŸæ˜¯æ•´ä¸ªæºç¨‹åºï¼Œå½“ä¸€ä¸ªæºç¨‹åºç”±å¤šä¸ªæºæ–‡ä»¶ç»„æˆæ—¶ï¼Œéé™æ€çš„å…¨å±€å˜é‡åœ¨å„ä¸ªæºæ–‡ä»¶ä¸­éƒ½æ˜¯æœ‰æ•ˆçš„ã€‚ è€Œé™æ€å…¨å±€å˜é‡åˆ™é™åˆ¶äº†å…¶ä½œç”¨åŸŸï¼Œ å³åªåœ¨å®šä¹‰è¯¥å˜é‡çš„æºæ–‡ä»¶å†…æœ‰æ•ˆï¼Œ åœ¨åŒä¸€æºç¨‹åºçš„å…¶å®ƒæºæ–‡ä»¶ä¸­ä¸èƒ½ä½¿ç”¨å®ƒã€‚ç”±äºé™æ€å…¨å±€å˜é‡çš„ä½œç”¨åŸŸå±€é™äºä¸€ä¸ªæºæ–‡ä»¶å†…ï¼Œåªèƒ½ä¸ºè¯¥æºæ–‡ä»¶å†…çš„å‡½æ•°å…¬ç”¨ï¼Œå› æ­¤å¯ä»¥é¿å…åœ¨å…¶å®ƒæºæ–‡ä»¶ä¸­å¼•èµ·é”™è¯¯ã€‚\nä»ä»¥ä¸Šåˆ†æå¯ä»¥çœ‹å‡ºï¼Œ æŠŠå±€éƒ¨å˜é‡æ”¹å˜ä¸ºé™æ€å˜é‡åæ˜¯æ”¹å˜äº†å®ƒçš„å­˜å‚¨æ–¹å¼å³æ”¹å˜äº†å®ƒçš„ç”Ÿå­˜æœŸã€‚æŠŠå…¨å±€å˜é‡æ”¹å˜ä¸ºé™æ€å˜é‡åæ˜¯æ”¹å˜äº†å®ƒçš„ä½œç”¨åŸŸï¼Œ é™åˆ¶äº†å®ƒçš„ä½¿ç”¨èŒƒå›´ã€‚\nstaticå‡½æ•°ä¸æ™®é€šå‡½æ•°ä½œç”¨åŸŸä¸åŒã€‚ä»…åœ¨æœ¬æ–‡ä»¶ã€‚åªåœ¨å½“å‰æºæ–‡ä»¶ä¸­ä½¿ç”¨çš„å‡½æ•°åº”è¯¥è¯´æ˜ä¸ºå†…éƒ¨å‡½æ•°(static)ï¼Œå†…éƒ¨å‡½æ•°åº”è¯¥åœ¨å½“å‰æºæ–‡ä»¶ä¸­è¯´æ˜å’Œå®šä¹‰ã€‚å¯¹äºå¯åœ¨å½“å‰æºæ–‡ä»¶ä»¥å¤–ä½¿ç”¨çš„å‡½æ•°ï¼Œåº”è¯¥åœ¨ä¸€ä¸ªå¤´æ–‡ä»¶ä¸­è¯´æ˜ï¼Œè¦ä½¿ç”¨è¿™äº›å‡½æ•°çš„æºæ–‡ä»¶è¦åŒ…å«è¿™ä¸ªå¤´æ–‡ä»¶ã€‚\n\n:::\n\n### 48. ç¨‹åºçš„å±€éƒ¨å˜é‡å­˜åœ¨äº____ä¸­ï¼Œå…¨å±€å˜é‡å­˜åœ¨äº____ä¸­ï¼ŒåŠ¨æ€ç”³è¯·æ•°æ®å­˜åœ¨äº___ä¸­ã€‚\n\n+ ç¨‹åºçš„å±€éƒ¨å˜é‡å­˜åœ¨äºæ ˆ(stack)ä¸­ï¼Œå…¨å±€å˜é‡å­˜åœ¨äºé™æ€æ•°æ®åŒº ä¸­ï¼ŒåŠ¨æ€ç”³è¯·æ•°æ®å­˜åœ¨äºå †ï¼ˆheapï¼‰ä¸­ã€‚\n\n### 49. ä»€ä¹ˆæ˜¯é¢„ç¼–è¯‘ï¼Œä½•æ—¶éœ€è¦é¢„ç¼–è¯‘?\n\n+ æ€»æ˜¯ä½¿ç”¨åœ¨ä¸ç»å¸¸æ”¹åŠ¨çš„å¤§å‹ä»£ç ä½“ã€‚ \n+ ç¨‹åºç”±å¤šä¸ªæ¨¡å—ç»„æˆï¼Œæ‰€æœ‰æ¨¡å—éƒ½ä½¿ç”¨ä¸€ç»„æ ‡å‡†çš„åŒ…å«æ–‡ä»¶å’Œç›¸åŒçš„ç¼–è¯‘é€‰é¡¹ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå¯ä»¥å°†æ‰€æœ‰åŒ…å«æ–‡ä»¶é¢„ç¼–è¯‘ä¸ºä¸€ä¸ªé¢„ç¼–è¯‘å¤´ã€‚\n\n### 50. ç”¨ä¸¤ä¸ªæ ˆå®ç°ä¸€ä¸ªé˜Ÿåˆ—çš„åŠŸèƒ½ï¼Ÿè¦æ±‚ç»™å‡ºç®—æ³•å’Œæ€è·¯ï¼\n\n:::info æ€è·¯\n\nè®¾2ä¸ªæ ˆä¸ºA,B, ä¸€å¼€å§‹å‡ä¸ºç©ºã€‚\n\nå…¥é˜Ÿï¼šå°†æ–°å…ƒç´  push å…¥æ ˆA;\n\nå‡ºé˜Ÿï¼š\n\n+ åˆ¤æ–­æ ˆBæ˜¯å¦ä¸ºç©ºï¼›\n\n+ å¦‚æœä¸ä¸ºç©ºï¼Œåˆ™å°†æ ˆAä¸­æ‰€æœ‰å…ƒç´ ä¾æ¬¡popå‡ºå¹¶pushåˆ°æ ˆBï¼›\n\n+ å°†æ ˆBçš„æ ˆé¡¶å…ƒç´ popå‡ºï¼›\n\n:::\n\n### 51. å¯¹äºä¸€ä¸ªé¢‘ç¹ä½¿ç”¨çš„çŸ­å°å‡½æ•°,åœ¨Cè¯­è¨€ä¸­åº”ç”¨ä»€ä¹ˆå®ç°,åœ¨C++ä¸­åº”ç”¨ä»€ä¹ˆå®ç°?\n\n+ C ç”¨å®å®šä¹‰ï¼ŒC++ ç”¨inline\n\n### 52. ç”¨é¢„å¤„ç†æŒ‡ä»¤#define å£°æ˜ä¸€ä¸ªå¸¸æ•°ï¼Œç”¨ä»¥è¡¨æ˜1å¹´ä¸­æœ‰å¤šå°‘ç§’ï¼ˆå¿½ç•¥é—°å¹´é—®é¢˜ï¼‰\n\n```jsx showLineNumbers\n#define SECONDS_PER_YEAR (60 * 60 * 24 * 365)UL \n```\n\n### 53. typedef åœ¨Cè¯­è¨€ä¸­é¢‘ç¹ç”¨ä»¥å£°æ˜ä¸€ä¸ªå·²ç»å­˜åœ¨çš„æ•°æ®ç±»å‹çš„åŒä¹‰å­—ã€‚ä¹Ÿå¯ä»¥ç”¨é¢„å¤„ç†å™¨åšç±»ä¼¼çš„äº‹ã€‚\n\n+ **ä¾‹å¦‚ï¼Œæ€è€ƒä¸€ä¸‹ä¸‹é¢çš„ä¾‹å­ï¼š**\n\n```jsx showLineNumbers\n#define dPS struct s * \ntypedef struct s * tPS; \n```\n\n**ä»¥ä¸Šä¸¤ç§æƒ…å†µçš„æ„å›¾éƒ½æ˜¯è¦å®šä¹‰dPS å’Œ tPS ä½œä¸ºä¸€ä¸ªæŒ‡å‘ç»“æ„sæŒ‡é’ˆã€‚å“ªç§æ–¹æ³•æ›´å¥½å‘¢ï¼Ÿï¼ˆå¦‚æœæœ‰çš„è¯ï¼‰ä¸ºä»€ä¹ˆï¼Ÿ **\n\nè¿™æ˜¯ä¸€ä¸ªéå¸¸å¾®å¦™çš„é—®é¢˜ï¼Œä»»ä½•äººç­”å¯¹è¿™ä¸ªé—®é¢˜ï¼ˆæ­£å½“çš„åŸå› ï¼‰æ˜¯åº”å½“è¢«æ­å–œçš„ã€‚ç­”æ¡ˆæ˜¯ï¼štypedefæ›´å¥½ã€‚\n\n+ **æ€è€ƒä¸‹é¢çš„ä¾‹å­ï¼š**\n\n```jsx showLineNumbers\ndPS p1, p2;\t// struct s * p1, p2; \ntPS p3, p4;\n```\n\nä¸Šé¢çš„ä»£ç å®šä¹‰p1ä¸ºä¸€ä¸ªæŒ‡å‘ç»“æ„çš„æŒ‡é’ˆï¼Œp2ä¸ºä¸€ä¸ªå®é™…çš„ç»“æ„ï¼Œè¿™ä¹Ÿè®¸ä¸æ˜¯ä½ æƒ³è¦çš„ã€‚ç¬¬äºŒä¸ªä¾‹å­æ­£ç¡®åœ°å®šä¹‰äº†p3 å’Œp4 ä¸¤ä¸ªæŒ‡é’ˆã€‚\n\n### 54. åœ¨ C++  ç¨‹åºä¸­è°ƒç”¨è¢« C ç¼–è¯‘å™¨ç¼–è¯‘åçš„å‡½æ•°ï¼Œä¸ºä»€ä¹ˆè¦åŠ  extern â€œCâ€ï¼Ÿ\n\nC++ è¯­è¨€æ”¯æŒå‡½æ•°é‡è½½ï¼ŒC è¯­è¨€ä¸æ”¯æŒå‡½æ•°é‡è½½ã€‚å‡½æ•°è¢« C++ç¼–è¯‘ååœ¨åº“ä¸­çš„åå­—ä¸ C è¯­è¨€çš„ä¸åŒã€‚\n\nå‡è®¾æŸä¸ªå‡½æ•°çš„åŸå‹ä¸ºï¼švoid foo(int x, int y); è¯¥å‡½æ•°è¢« C ç¼–è¯‘å™¨ç¼–è¯‘ååœ¨åº“ä¸­çš„åå­—ä¸º_fooï¼Œè€Œ C++ç¼–è¯‘å™¨åˆ™ä¼šäº§ç”Ÿåƒ\\_foo_int_int ä¹‹ç±»çš„åå­—ã€‚ \n\nC++ æä¾›äº† C è¿æ¥äº¤æ¢æŒ‡å®šç¬¦å· externâ€œCâ€æ¥è§£å†³åå­—åŒ¹é…é—®é¢˜ã€‚ \n\n### 55. è¯·ç®€è¿°ä»¥ä¸‹ä¸¤ä¸ª for å¾ªç¯çš„ä¼˜ç¼ºç‚¹ã€‚\n\n+ ç¤ºä¾‹1ï¼š\n\n```jsx showLineNumbers\nfor (i=0; i<n; i++) {\n    if (condition)\n        DoSomething();\n    else\n        DoOthering();\n}\n```\n\nä¼˜ç‚¹ï¼šç¨‹åºç®€æ´ã€‚\n\nç¼ºç‚¹ï¼šå¤šæ‰§è¡Œäº† N-1 æ¬¡é€»è¾‘åˆ¤æ–­ï¼Œå¹¶ä¸”æ‰“æ–­äº†å¾ªç¯çš„ â€œæµæ°´çº¿â€ ä½œä¸šï¼Œä½¿å¾—ç¼–è¯‘å™¨ä¸èƒ½å¯¹å¾ªç¯è¿›è¡Œä¼˜åŒ–å¤„ç†ï¼Œé™ä½äº†æ•ˆç‡ã€‚\n\n+ ç¤ºä¾‹2ï¼š\n\n```jsx showLineNumbers\nif (condition) {\n    for (i=0; i<n; i++) \n        DoSomething();\n}\nelse {\n    for (i=0; i<n; i++) \n         DoOthering();\n}\n```\n\nä¼˜ç‚¹ï¼šå¾ªç¯æ•ˆç‡é«˜ã€‚\n\nç¼ºç‚¹ï¼šç¨‹åºä¸ç®€æ´ã€‚\n\n### 56. è¯­å¥for( ï¼›1 ï¼›)æœ‰ä»€ä¹ˆé—®é¢˜ï¼Ÿå®ƒæ˜¯ä»€ä¹ˆæ„æ€ï¼Ÿ\n\n+ æ­»å¾ªç¯ï¼Œå’Œwhile(1)ç›¸åŒã€‚\n\n### 57. doâ€¦â€¦whileå’Œwhileâ€¦â€¦doæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ\n\n+ å‰ä¸€ä¸ªå¾ªç¯ä¸€éå†åˆ¤æ–­ï¼Œåä¸€ä¸ªåˆ¤æ–­ä»¥åå†å¾ªç¯ã€‚\n\n### 58. è¯·å†™å‡ºä¸‹åˆ—ä»£ç çš„è¾“å‡ºå†…å®¹\n\n```jsx showLineNumbers\n#include <stdio.h>\nint main(int argc, char *argv[])\n{\n\tint a,b,c,d;\n\ta=10;\n\tb=a++;\n\tc=++a;\n\td=10*a++;\n\tprintf(\"bï¼Œcï¼Œdï¼š%dï¼Œ%dï¼Œ%d\"ï¼Œbï¼Œcï¼Œdï¼‰;\n\treturn 0;\n}\n```\n\nbï¼Œcï¼Œdï¼š10ï¼Œ12ï¼Œ120\n\n### 59. ä¸‹é¢ä»£ç  p1+5 è·Ÿ p2+5 ç­‰äºå¤šå°‘ï¼Ÿ\n\n```jsx showLineNumbers\nunsigned char *p1;\nunsigned long *p2;\np1=(unsigned char *)0x801000;\np2=(unsigned long *)0x810000;    \n```\n\n+ 0x801005ã€0x810020\n\n### 60ã€è¯·å†™å‡ºä¸‹åˆ—ä»£ç çš„è¾“å‡ºå†…å®¹\n\n```jsx showLineNumbers\n main()\n{\n\tint a[5]={1,2,3,4,5};\n\tint *ptr=(int *)(&a+1);\n\tprintf(â€œ%dï¼Œ%dâ€,*(a+1),*(ptr-1));\n}\n```\n\n2ï¼Œ5\n\n### 61. è¯·é—®ä¸‹é¢ç¨‹åºæœ‰ä»€ä¹ˆé”™è¯¯ï¼Ÿ\n\n```jsx showLineNumbers\nint a[60][250][1000], i, j, k;\nfor (k=0; k<=1000; k++)\n\tfor (j=0; j<250; j++)\n\t\tfor (i=0; i<60; i++)\na[i][j][k]=0;\n```\n\néœ€è¦å°†å¾ªç¯è¯­å¥å†…å¤–æ¢ä¸€ä¸‹æ‰èƒ½å¯¹æ•°ç»„è¿›è¡Œèµ‹å€¼ã€‚\n\n### 62. ä»¥ä¸‹æ˜¯æ±‚ä¸€ä¸ªæ•°çš„å¹³æ–¹çš„ç¨‹åº,è¯·æ‰¾å‡ºé”™è¯¯:\n```jsx showLineNumbers\n#define SQUARE(a)((a)*(a))\nint a=5;\nint b;\nb=SQUARE(a++);\n```\n\nå®åœ¨é¢„ç¼–è¯‘æ—¶ä¼šä»¥æ›¿æ¢çš„å½¢å¼å±•å¼€ï¼Œä»…ä»…ä¼šæ›¿æ¢ã€‚æ¶‰åŠåˆ°å®çš„åœ°æ–¹ï¼Œä¸è¦ç”¨++ --ï¼Œæ ‡å‡†ä¸­å¯¹æ­¤æ²¡æœ‰è§„å®šï¼Œå› æ­¤æœ€ç»ˆç»“æœå°†ä¼šä¾èµ–äºä¸åŒçš„ç¼–è¯‘å™¨ã€‚\n\næ‰§è¡Œç¨‹åºçš„ç­”æ¡ˆå¯èƒ½æ˜¯25ã€ä¹Ÿæœ‰å¯èƒ½æ˜¯36ã€‚\n\n### 63. ä¸‹é¢è¿™æ®µä»£ç æ‰§è¡Œæœ‰ä»€ä¹ˆé—®é¢˜ï¼Ÿ\n\n```jsx showLineNumbers\n#define Max_CB 500\nvoid LmiQueryCSmd(Struct MSgCB * pmsg)\n{\n\tunsigned char ucCmdNum;\n\t......  \n\tfor(ucCmdNum=0;ucCmdNum<Max_CB;ucCmdNum++)\n\t{\n\t\t......;\n\t}                                        \n}\n```\n\nç¨‹åºä¼šè¿›å…¥æ­»å¾ªç¯ ï¼Œunsigned char æ˜¯æ— ç¬¦å·å­—ç¬¦å‹å®ƒçš„èŒƒå›´æ˜¯ 0~255ã€‚\n\n### 64. åµŒå…¥å¼ç³»ç»Ÿä¸­ç»å¸¸è¦ç”¨åˆ°æ— é™å¾ªç¯ï¼Œä½ æ€ä¹ˆç”¨Cç¼–å†™æ­»å¾ªç¯ã€‚\n\n```jsx showLineNumbers\nwhile(1);\nfor(;;);\ndo ... while(1);\n```\n\n### 65. ä¸‹é¢ç¨‹åºè¾“å‡ºç»“æœæ˜¯ï¼Ÿ\n\n```jsx showLineNumbers\nint sum(int a)\n{\n    auto int c = 0;\n    static int b = 3;\n    c += 1;\n    b += 2;\n    return(a+b+c);\n}\n\nvoid main(void)\n{\n    int i;\n    int a = 2;\n    for (i = 0;i < 5;i ++) {\n   \t\tPrintf(â€œ%dâ€,sum(a));\n    }\n}\n```\n\n8ï¼Œ10ï¼Œ12ï¼Œ14ï¼Œ16\n\n<!-- truncate -->"
        },
        {
          "id": "/thread_pool1",
          "metadata": {
            "permalink": "/blog/thread_pool1",
            "editUrl": "https://github.com/disnox/blog/edit/main/blog/project/2. å•å‘é“¾è¡¨åˆ›å»ºçº¿ç¨‹æ± .md",
            "source": "@site/blog/project/2. å•å‘é“¾è¡¨åˆ›å»ºçº¿ç¨‹æ± .md",
            "title": "å•å‘é“¾è¡¨åˆ›å»ºçº¿ç¨‹æ± ",
            "description": "å•å‘é“¾è¡¨åˆ›å»ºçº¿ç¨‹æ± ",
            "date": "2022-12-16T00:00:00.000Z",
            "formattedDate": "2022å¹´12æœˆ16æ—¥",
            "tags": [
              {
                "label": "C/C++",
                "permalink": "/blog/tags/c-c"
              },
              {
                "label": "Linux",
                "permalink": "/blog/tags/linux"
              }
            ],
            "readingTime": 8.083333333333334,
            "hasTruncateMarker": true,
            "authors": [
              {
                "name": "ğŸ“ºå°šå®‡",
                "title": "åµŒå…¥å¼ / å­¦ç”Ÿ",
                "url": "https://github.com/disnox",
                "imageURL": "/img/logo.webp",
                "key": "disnox"
              }
            ],
            "frontMatter": {
              "slug": "/thread_pool1",
              "title": "å•å‘é“¾è¡¨åˆ›å»ºçº¿ç¨‹æ± ",
              "date": "2022-12-16T00:00:00.000Z",
              "authors": "disnox",
              "tags": [
                "C/C++",
                "Linux"
              ],
              "keywords": [
                "C/C++",
                "Linux"
              ],
              "description": "å•å‘é“¾è¡¨åˆ›å»ºçº¿ç¨‹æ± ",
              "image": "/img/blog/blog.png",
              "sticky": 3
            },
            "unlisted": false,
            "prevItem": {
              "title": "C è¯­è¨€ç»å…¸é¢˜ç›®",
              "permalink": "/blog/classic"
            },
            "nextItem": {
              "title": "å†…æ ¸é“¾è¡¨åˆ›å»ºçº¿ç¨‹æ± ",
              "permalink": "/blog/thread_pool2"
            }
          },
          "content": "ä½¿ç”¨å•å‘é“¾è¡¨å®ç°çº¿ç¨‹æ± çš„æ¥å£è®¾è®¡\n\n<!-- truncate -->\n\n## 1. åŸºç¡€çŸ¥è¯†\n\nå…³äºé“¾è¡¨å’Œçº¿ç¨‹çš„ä½¿ç”¨æ–¹æ³•å¯ä»¥æŸ¥çœ‹æˆ‘çš„æŠ€æœ¯ç¬”è®°ï¼š[æ•°æ®ç»“æ„](https://www.disnox.top/docs/category/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84) å’Œ [ç³»ç»Ÿç¼–ç¨‹](https://www.disnox.top/docs/category/linux-%E7%B3%BB%E7%BB%9F%E7%BC%96%E7%A8%8B) ï¼Œåœ¨è¿™ä¸¤ä¸ªé¡µé¢éƒ½å¯ä»¥æ‰¾åˆ°é“¾è¡¨å’Œçº¿ç¨‹çš„ä¸€äº›åŸºç¡€çŸ¥è¯†å’Œä½¿ç”¨ç¤ºä¾‹ã€‚\n\nåœ¨ Linux ç³»ç»Ÿä¸­ï¼Œçº¿ç¨‹æ± æ˜¯ä¸€ç§ç”¨äºç®¡ç†å’Œè°ƒåº¦çº¿ç¨‹çš„æœºåˆ¶ã€‚å®ƒç”±ä¸€ç»„å¯ä»¥å¤ç”¨çš„çº¿ç¨‹ç»„æˆï¼Œè¿™äº›çº¿ç¨‹è¢«ä¿å­˜åœ¨çº¿ç¨‹æ± ä¸­ï¼Œå¹¶ç­‰å¾…åˆ†é…ä»»åŠ¡ã€‚\n\nå½“ä¸€ä¸ªæ–°çš„ä»»åŠ¡åˆ°è¾¾æ—¶ï¼Œçº¿ç¨‹æ± ä¼šä»å…¶ä¸­é€‰æ‹©ä¸€ä¸ªçº¿ç¨‹æ¥æ‰§è¡Œè¯¥ä»»åŠ¡ã€‚å¦‚æœæ‰€æœ‰çº¿ç¨‹éƒ½æ­£åœ¨æ‰§è¡Œä»»åŠ¡ï¼Œåˆ™æ–°ä»»åŠ¡å°†è¢«æ”¾åœ¨é˜Ÿåˆ—ä¸­ç­‰å¾…ï¼Œç›´åˆ°æœ‰çº¿ç¨‹å¯ç”¨ã€‚\n\nä½¿ç”¨çº¿ç¨‹æ± çš„ä¼˜ç‚¹åŒ…æ‹¬ï¼š\n\n- å¯ä»¥æ›´æœ‰æ•ˆåœ°åˆ©ç”¨ CPU èµ„æºï¼Œå› ä¸ºçº¿ç¨‹å¯ä»¥åœ¨ä»»åŠ¡ä¹‹é—´å¤ç”¨ã€‚\n- å¯ä»¥æ›´å®¹æ˜“åœ°ç®¡ç†çº¿ç¨‹ï¼Œå› ä¸ºæ‰€æœ‰çº¿ç¨‹éƒ½åœ¨çº¿ç¨‹æ± ä¸­ã€‚\n- å¯ä»¥æ›´å®¹æ˜“åœ°ç»´æŠ¤çº¿ç¨‹çš„æ•°é‡ï¼Œå› ä¸ºå¯ä»¥é™åˆ¶çº¿ç¨‹æ± çš„å¤§å°ã€‚\n\nçº¿ç¨‹æ± çš„å®ç°åŸç†å¯ä»¥å‚è€ƒè¿™ç¯‡ç¬”è®°ï¼š[çº¿ç¨‹æ± ](https://www.disnox.top/docs/thread_pool)ã€‚\n\nä¸‹é¢æˆ‘ä»¬æ¥çœ‹çœ‹æ€ä¹ˆé€šè¿‡å•å‘é“¾è¡¨è·Ÿçº¿ç¨‹çš„ç»„åˆå®ç°çº¿ç¨‹æ± ã€‚\n\n## 2. çº¿ç¨‹æ± æ¥å£è®¾è®¡\n\n### 2.1 ä»»åŠ¡ç»“æ„ä½“\n\n+ æ¥å£æ–‡æ¡£\n\n| åŸå‹     | struct task                                                  |\n| -------- | ------------------------------------------------------------ |\n| åŠŸèƒ½æè¿° | ä»»åŠ¡èŠ‚ç‚¹ï¼ŒåŒ…å«éœ€è¦æ‰§è¡Œçš„å‡½æ•°åŠå…¶å‚æ•°ï¼Œé€šè¿‡é“¾è¡¨è¿æˆä¸€ä¸ªä»»åŠ¡é˜Ÿåˆ— |\n| æˆå‘˜åˆ—è¡¨ | ***void \\*(\\*task)(void \\*arg);<br/>void \\*arg;<br/>struct task \\*next;*** |\n| å¤‡æ³¨     | ä»»åŠ¡é˜Ÿåˆ—æœ€ç»ˆæ˜¯å½¢æˆä¸€æ¡å•å‘é“¾è¡¨                               |\n\n+ ä»£ç å®ç°\n\n```jsx showLineNumbers\nstruct task {\t// ä»»åŠ¡èŠ‚ç‚¹\n\tvoid *(*task)(void *arg);\n\tvoid *arg;\n\tstruct task *next;\n};\n```\n\n### 2.2 çº¿ç¨‹æ± ç»“æ„ä½“\n\n+ æ¥å£æ–‡æ¡£\n\n| åŸå‹     | thread_pool                                                  |\n| :------- | :----------------------------------------------------------- |\n| åŠŸèƒ½æè¿° | åŒ…å«çº¿ç¨‹æ± çš„æ‰€æœ‰ä¿¡æ¯                                         |\n| æˆå‘˜åˆ—è¡¨ | ***pthread_mutex_t lock;\t// äº’æ–¥é”ï¼Œä¿æŠ¤ä»»åŠ¡é˜Ÿåˆ—<br/>pthread_cond_t  cond;\t// æ¡ä»¶å˜é‡ï¼ŒåŒæ­¥æ‰€æœ‰çº¿ç¨‹<br/>struct task \\*task_list;\t  // ä»»åŠ¡é“¾é˜Ÿåˆ—æŒ‡é’ˆ<br/>pthread_t \\*tids;\t\t      // çº¿ç¨‹IDå­˜æ”¾ä½ç½®<br/>unsigned waiting_tasks;\t// ä»»åŠ¡é“¾é˜Ÿåˆ—ä¸­ç­‰å¾…çš„ä»»åŠ¡ä¸ªæ•°<br/>unsigned active_threads;// å½“å‰æ´»è·ƒçº¿ç¨‹ä¸ªæ•°<br/>bool shutdown;\t\t\t// çº¿ç¨‹æ± é”€æ¯æ ‡è®°*** |\n| å¤‡æ³¨     | æ´»è·ƒçº¿ç¨‹ä¸ªæ•°ç”±ç”¨æˆ·è‡ªè¡Œå®šä¹‰ï¼Œä½†è‡³å°‘åŒ…å«ä¸€æ¡æ´»è·ƒçº¿ç¨‹           |\n\n+ ä»£ç å®ç°\n\n```jsx showLineNumbers\ntypedef struct thread_pool {// çº¿ç¨‹æ± \n\tpthread_mutex_t lock;\t// äº’æ–¥é”ï¼Œä¿æŠ¤ä»»åŠ¡é˜Ÿåˆ—\n\tpthread_cond_t  cond;\t// æ¡ä»¶å˜é‡ï¼ŒåŒæ­¥æ‰€æœ‰çº¿ç¨‹\n\tstruct task *task_list;\t// ä»»åŠ¡é“¾é˜Ÿåˆ—æŒ‡é’ˆ\n\tpthread_t *tids;\t\t// çº¿ç¨‹IDå­˜æ”¾ä½ç½®\n\tunsigned waiting_tasks;\t// ä»»åŠ¡é“¾é˜Ÿåˆ—ä¸­ç­‰å¾…çš„ä»»åŠ¡ä¸ªæ•°\n\tunsigned active_threads;// å½“å‰æ´»è·ƒçº¿ç¨‹ä¸ªæ•°\n\tbool shutdown;\t\t\t// çº¿ç¨‹æ± é”€æ¯æ ‡è®°\n}thread_pool;\n```\n\n### 2.3 çº¿ç¨‹æ± åˆå§‹åŒ–\n\n+ æ¥å£æ–‡æ¡£\n\n| åŸå‹       | bool init_pool(thread_pool* pool, unsigned int threads_number); |\n| :--------- | :----------------------------------------------------------- |\n| åŠŸèƒ½æè¿°   | åˆ›å»ºä¸€ä¸ªæ–°çš„çº¿ç¨‹æ± ï¼ŒåŒ…å«threads_numberä¸ªæ´»è·ƒçº¿ç¨‹             |\n| å‚æ•°       | pool: çº¿ç¨‹æ± æŒ‡é’ˆ<br/>threads_number: åˆå§‹æ´»è·ƒçº¿ç¨‹ä¸ªæ•°(å¤§äºç­‰äº1) |\n| è¿”å›å€¼     | æˆåŠŸè¿”å› true ï¼Œå¤±è´¥è¿”å› false                               |\n| æ‰€åœ¨å¤´æ–‡ä»¶ | thread_pool.h                                                |\n| å¤‡æ³¨       | çº¿ç¨‹æ± æœ€å°‘çº¿ç¨‹ä¸ªæ•°ä¸º1                                        |\n\n+ ä»£ç å®ç°\n\n```jsx showLineNumbers\nbool init_pool(thread_pool *pool, unsigned int threads_number)\n{\n\tpthread_mutex_init(&pool->lock, NULL);\t// åˆå§‹åŒ–äº’æ–¥é”\n\tpthread_cond_init(&pool->cond, NULL);\t// åˆå§‹åŒ–æ¡ä»¶å˜é‡\n\n\tpool->shutdown = false;\t// åˆå§‹åŒ–çº¿ç¨‹æ± é”€æ¯æ ‡è®°\n\tpool->task_list = malloc(sizeof(struct task));\t// åˆå§‹åŒ–ä»»åŠ¡é˜Ÿåˆ—\n\tpool->tids = malloc(sizeof(pthread_t) * MAX_ACTIVE_THREADS);\t// åˆå§‹åŒ–å­˜æ”¾çº¿ç¨‹IDçš„æ•°ç»„\n\n\tif(pool->task_list == NULL || pool->tids == NULL)\n\t{\n\t\tperror(\"allocate memory error\");\n\t\treturn false;\n\t}\n\n\tpool->task_list->next = NULL;\t// é“¾è¡¨çš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ä¸ºç©º\n\n\tpool->waiting_tasks = 0;\t// åˆå§‹åŒ–ä»»åŠ¡é˜Ÿåˆ—ä¸­ç­‰å¾…çš„ä»»åŠ¡ä¸ªæ•°\n\tpool->active_threads = threads_number;\t//åˆå§‹åŒ–æ´»è·ƒçº¿ç¨‹ä¸ªæ•°\n\n\tint i;\n\t// åˆ›å»ºæŒ‡å®šæ•°ç›®çº¿ç¨‹\n\tfor(i=0; i<pool->active_threads; i++) {\n\t\tif(pthread_create(&((pool->tids)[i]), NULL, routine, (void *)pool) != 0) {\n\t\t\tperror(\"create threads error\");\n\t\t\treturn false;\n\t\t}\n\t}\n\n\treturn true;\n}\n```\n\n### 2.4 æŠ•é€ä»»åŠ¡\n\n+ æ¥å£æ–‡æ¡£\n\n| åŸå‹       | bool add_task(thread_pool \\*pool, void \\*(\\*do_task)(void \\*arg), void \\*arg); |\n| :--------- | :----------------------------------------------------------- |\n| åŠŸèƒ½æè¿°   | å¾€çº¿ç¨‹æ± æŠ•é€ä»»åŠ¡                                             |\n| å‚æ•°       | pool: çº¿ç¨‹æ± æŒ‡é’ˆ<br/>do_task: æŠ•é€è‡³çº¿ç¨‹æ± çš„æ‰§è¡Œä¾‹ç¨‹ <br/>arg: æ‰§è¡Œä¾‹ç¨‹do_taskçš„å‚æ•°ï¼Œè‹¥è¯¥æ‰§è¡Œä¾‹ç¨‹ä¸éœ€è¦å‚æ•°å¯è®¾ç½®ä¸ºNULL |\n| è¿”å›å€¼     | æˆåŠŸè¿”å›trueï¼Œå¤±è´¥è¿”å›false                                  |\n| æ‰€åœ¨å¤´æ–‡ä»¶ | thread_pool.h                                                |\n| å¤‡æ³¨       | ä»»åŠ¡é˜Ÿåˆ—ä¸­æœ€å¤§ä»»åŠ¡ä¸ªæ•°ä¸º MAX_WAITING_TASKS                   |\n\n+ ä»£ç å®ç°\n\n```jsx showLineNumbers\nbool add_task(thread_pool *pool, void *(*task)(void *arg), void *arg)\n{\n\tstruct task *new_task = malloc(sizeof(struct task));\t// æ–°ä»»åŠ¡ç»“ç‚¹\n\n\tif(new_task == NULL) {\n\t\tperror(\"allocate memory error\");\n\t\treturn false;\n\t}\n\n\t// åˆå§‹åŒ–ä»»åŠ¡èŠ‚ç‚¹\n\tnew_task->task = task;\n\tnew_task->arg = arg;\n\tnew_task->next = NULL;\n\n\t// åŠ é”ã€è¶…è¿‡æœ€å¤§ä»»åŠ¡\n\tpthread_mutex_lock(&pool->lock);\n\tif(pool->waiting_tasks >= MAX_WAITING_TASKS) {\n\t\tpthread_mutex_unlock(&pool->lock);\n\n\t\tfprintf(stderr, \"too many tasks.\\n\");\n\t\tfree(new_task);\n\n\t\treturn false;\n\t}\n\t\n\tstruct task *tmp = pool->task_list;\n\twhile(tmp->next != NULL)\n\t\ttmp = tmp->next;\n\n\ttmp->next = new_task;\t// æ·»åŠ æ–°çš„ä»»åŠ¡ç»“ç‚¹\n\tpool->waiting_tasks++;\n\n\t// é‡Šæ”¾äº’æ–¥é”ï¼Œå¹¶å”¤é†’å…¶ä¸­ä¸€ä¸ªé˜»å¡åœ¨æ¡ä»¶å˜é‡ä¸Šçš„çº¿ç¨‹\n\tpthread_mutex_unlock(&pool->lock);\n\tpthread_cond_signal(&pool->cond);\n\n\treturn true;\n}\n```\n\n### 2.5 å¢åŠ æ´»è·ƒçº¿ç¨‹\n\n+ æ¥å£æ–‡æ¡£\n\n| åŸå‹       | int add_thread(thread_pool*pool, unsigned int additional_threads); |\n| :--------- | :----------------------------------------------------------- |\n| åŠŸèƒ½æè¿°   | å¢åŠ çº¿ç¨‹æ± ä¸­æ´»è·ƒçº¿ç¨‹çš„ä¸ªæ•°                                   |\n| å‚æ•°       | pool: éœ€è¦å¢åŠ çº¿ç¨‹çš„çº¿ç¨‹æ± æŒ‡é’ˆ<br/>additional_threads: æ–°å¢çº¿ç¨‹ä¸ªæ•° |\n| è¿”å›å€¼     | >0: å®é™…æ–°å¢çº¿ç¨‹ä¸ªæ•°<br/>-1: å¤±è´¥                            |\n| æ‰€åœ¨å¤´æ–‡ä»¶ | thread_pool.h                                                |\n| å¤‡æ³¨       | å¢åŠ çš„æ´»è·ƒçº¿ç¨‹çš„æ•°é‡å’Œä¹‹å‰åˆå§‹åŒ–çš„çº¿ç¨‹æ•°é‡ä¸èƒ½å¤§äº MAX_ACTIVE_THREADS |\n\n+ ä»£ç å®ç°\n\n```jsx showLineNumbers\nint add_thread(thread_pool *pool, unsigned int additional_threads)\n{\n\tif(additional_threads == 0)\n\t\treturn 0;\n\n\tunsigned total_threads = pool->active_threads + additional_threads;\n\n\tint i, actual_increment = 0;\t// æˆåŠŸåˆ›å»ºçº¿ç¨‹çš„ä¸ªæ•°\n\t// å¾ªç¯åˆ›å»ºè‹¥å¹²æŒ‡å®šæ•°ç›®çš„çº¿ç¨‹\n\tfor(i=pool->active_threads; i<total_threads && i<MAX_ACTIVE_THREADS; i++) {\n\t\tif(pthread_create(&((pool->tids)[i]), NULL, routine, (void *)pool) != 0) {\n\t\t\tperror(\"add threads error\");\n\n\t\t\tif(actual_increment == 0)\n\t\t\t\treturn -1;\n\n\t\t\tbreak;\n\t\t}\n\t\tactual_increment++; \n\t}\n\n\t// æ›´æ–°çº¿ç¨‹æ± ä¸­çš„æ´»è·ƒçº¿ç¨‹ä¸ªæ•°\n\tpool->active_threads += actual_increment;\n\n\treturn actual_increment;\n}\n```\n\n### 2.6 åˆ é™¤çº¿ç¨‹\n\n+ æ¥å£æ–‡æ¡£\n\n| åŸå‹       | int remove_thread(thread_pool*pool, unsigned int removing_threads); |\n| :--------- | :----------------------------------------------------------- |\n| åŠŸèƒ½æè¿°   | åˆ é™¤çº¿ç¨‹æ± ä¸­æ´»è·ƒçº¿ç¨‹çš„ä¸ªæ•°                                   |\n| å‚æ•°       | pool: éœ€è¦åˆ é™¤çº¿ç¨‹çš„çº¿ç¨‹æ± æŒ‡é’ˆ<br/>removing_threads: è¦åˆ é™¤çš„çº¿ç¨‹ä¸ªæ•°ï¼Œè¯¥å‚æ•°è®¾ç½®ä¸º0æ—¶ç›´æ¥è¿”å›å½“å‰çº¿ç¨‹æ± çº¿ç¨‹æ€»æ•°ï¼Œå¯¹çº¿ç¨‹æ± ä¸é€ æˆä»»ä½•å…¶å®ƒå½±å“ |\n| è¿”å›å€¼     | >0: å½“å‰çº¿ç¨‹æ± å‰©ä½™çº¿ç¨‹ä¸ªæ•°<br/>-1:å¤±è´¥                       |\n| æ‰€åœ¨å¤´æ–‡ä»¶ | thread_pool.h                                                |\n| å¤‡æ³¨       | 1ï¼Œçº¿ç¨‹æ± è‡³å°‘ä¼šå­˜åœ¨1æ¡æ´»è·ƒçº¿ç¨‹<br/>2ï¼Œå¦‚æœè¢«åˆ é™¤çš„çº¿ç¨‹æ­£åœ¨æ‰§è¡Œä»»åŠ¡ï¼Œåˆ™å°†ç­‰å¾…å…¶å®Œæˆä»»åŠ¡ä¹‹ååˆ é™¤ |\n\n+ ä»£ç å®ç°\n\n```jsx showLineNumbers\nint remove_thread(thread_pool *pool, unsigned int removing_threads)\n{\n\tif(removing_threads == 0)\n\t\treturn pool->active_threads;\n\t\n\tint remain_threads = pool->active_threads - removing_threads;\n\tremain_threads = remain_threads > 0 ? remain_threads : 1;\n\n\tint i;\n\t// å¾ªç¯åœ°å–æ¶ˆæ‰æŒ‡å®šæ•°ç›®çš„çº¿ç¨‹\n\tfor(i=pool->active_threads-1; i>remain_threads-1; i--) {\n\t\terrno = pthread_cancel(pool->tids[i]);\n\t\tif(errno != 0)\n\t\t\tbreak;\n\t}\n\n\tif(i == pool->active_threads-1) {\n\t\treturn -1;\n\t} else {\n\t\tpool->active_threads = i+1;\n\t\treturn i+1;\n\t}\n\n    return 0;\n}\n```\n\n### 2.7 é”€æ¯çº¿ç¨‹æ± \n\n+ æ¥å£æ–‡æ¡£\n\n| åŸå‹       | bool destroy_pool(thread_pool \\*pool);                       |\n| :--------- | :----------------------------------------------------------- |\n| åŠŸèƒ½æè¿°   | é˜»å¡ç­‰å¾…æ‰€æœ‰ä»»åŠ¡å®Œæˆï¼Œç„¶åç«‹å³é”€æ¯æ•´ä¸ªçº¿ç¨‹æ± ï¼Œé‡Šæ”¾æ‰€æœ‰èµ„æºå’Œå†…å­˜ |\n| å‚æ•°       | pool:å°†è¦é”€æ¯çš„çº¿ç¨‹æ±                                         |\n| è¿”å›å€¼     | æˆåŠŸè¿”å›trueï¼Œå¤±è´¥è¿”å›false                                  |\n| æ‰€åœ¨å¤´æ–‡ä»¶ | thread_pool.h                                                |\n| å¤‡æ³¨       | æ—                                                            |\n\n+ ä»£ç å®ç°\n\n```jsx showLineNumbers\nbool destroy_pool(thread_pool *pool)\n{\n\tpool->shutdown = true;\t// çº¿ç¨‹æ± çš„é”€æ¯æ ‡è®°\n\tpthread_cond_broadcast(&pool->cond);\t// å”¤é†’æ‰€æœ‰çº¿ç¨‹\n\n\tint i;\n\t// ç­‰å¾…æ‰€æœ‰çº¿ç¨‹é€€å‡º\n\tfor(i=0; i<pool->active_threads; i++) {\n\t\terrno = pthread_join(pool->tids[i], NULL);\n\t\tif(errno != 0) {\n\t\t\tprintf(\"join tids[%d] error: %s\\n\", i, strerror(errno));\n\t\t} else {\n\t\t\tprintf(\"[%u] is joined\\n\", (unsigned)pool->tids[i]);\n\t\t}\n\t}\n\n\tfree(pool->task_list);\t// é‡Šæ”¾èµ„æº\n\tfree(pool->tids);\t\t// æ¸…ç©ºä»»åŠ¡é˜Ÿåˆ—\n\tfree(pool);\t\t\t\t// é‡Šæ”¾ä»»åŠ¡é˜Ÿåˆ—\n\n\treturn true;\n}\n```\n\n### 2.8 çº¿ç¨‹å…¥å£å‡½æ•°\n\n+ ç”¨æ¥æ‰§è¡Œä»»åŠ¡çš„çº¿ç¨‹å‡½æ•°ï¼š\n\n```jsx showLineNumbers\nvoid *routine(void *arg)\n{\n\tthread_pool *pool = (thread_pool *)arg;\t//å®šä¹‰çº¿ç¨‹æ± ç»“æ„ä½“æŒ‡é’ˆï¼Œæ‹¿åˆ°çº¿ç¨‹æ± çš„æŒ‡é’ˆ\n\tstruct task *p;\t//å®šä¹‰ä»»åŠ¡ç»“æ„ä½“æŒ‡é’ˆï¼Œç”¨æ¥è¡¨ç¤ºæ‹¿åˆ°çš„ä»»åŠ¡\n\n\t//ä¸æ–­çš„æ‹¿ä»»åŠ¡ï¼Œæ‰§è¡Œ\n\twhile(1) {\n\t\t// è®¿é—®ä»»åŠ¡é˜Ÿåˆ—å‰åŠ é”ï¼Œä¸ºé˜²æ­¢å–æ¶ˆåæ­»é”ï¼Œæ³¨å†Œå¤„ç†ä¾‹ç¨‹ handle\n\t\tpthread_cleanup_push(handler, (void *)&pool->lock);\t//é˜²æ­¢æ­»é”\n\t\tpthread_mutex_lock(&pool->lock);\t//åŠ é”\n\n\t\t//å¦‚æœä»»åŠ¡é˜Ÿåˆ—ä¸ºç©ºå¹¶ä¸”çº¿ç¨‹æ± æ²¡æœ‰è¢«é”€æ¯ï¼Œçº¿ç¨‹è¿›å…¥æ¡ä»¶å˜é‡ç­‰å¾…é˜Ÿåˆ—ç¡çœ \n\t\twhile(pool->waiting_tasks == 0 && !pool->shutdown) {\n\t\t\t//æ¡ä»¶å˜é‡ç­‰å¾…é˜Ÿåˆ—\n\t\t\tpthread_cond_wait(&pool->cond, &pool->lock);\t\n\t\t}\n\n\t\t//å¦‚æœä»»åŠ¡ä¸ºç©ºï¼Œçº¿ç¨‹æ± è¢«é”€æ¯ï¼Œåˆ™ç«‹å³é‡Šæ”¾äº’æ–¥é”å¹¶é€€å‡º\n\t\tif(pool->waiting_tasks == 0 && pool->shutdown) {\n\t\t\tpthread_mutex_unlock(&pool->lock);\n\t\t\tpthread_exit(NULL);\n\t\t}\n\n\t\t//å–èµ°ä¸€ä¸ªä»»åŠ¡\n\t\tp = pool->task_list->next;\n\t\tpool->task_list->next = p->next;\n\t\tpool->waiting_tasks--;\t//ä»»åŠ¡æ•°é‡å‡1\n\n\t\t//ä»»åŠ¡å–èµ°ï¼Œè§£é”ï¼Œå¹¶å¼¹æ ˆ handleï¼ˆä½†ä¸æ‰§è¡Œå®ƒï¼‰\n\t\tpthread_mutex_unlock(&pool->lock);\n\t\tpthread_cleanup_pop(0);\n\n\t\t//æ‰§è¡Œä»»åŠ¡æœŸé—´æ‹’ç»å–æ¶ˆè¯·æ±‚\n\t\tpthread_setcancelstate(PTHREAD_CANCEL_DISABLE, NULL);\n\t\t(p->task)(p->arg);\n\t\tpthread_setcancelstate(PTHREAD_CANCEL_ENABLE, NULL);\n\n\t\tfree(p);\t//é‡Šæ”¾èµ„æº\n\t}\n\n\tpthread_exit(NULL);\n}\n```\n\n+ æ³¨å†Œæ­»é”å¤„ç†å‡½æ•°\n\n```jsx showLineNumbers\nvoid handler(void *arg)\n{\n\t// å“åº”å–æ¶ˆè¯·æ±‚ä¹‹åè‡ªåŠ¨å¤„ç†ï¼šé‡Šæ”¾äº’æ–¥é”\n\tpthread_mutex_unlock((pthread_mutex_t *)arg);\n}\n```\n\n## 3. ä½¿ç”¨ç¤ºä¾‹\n\n```jsx showLineNumbers\n#include <stdio.h>\n#include \"thread_pool.h\"\n\nvoid *my_task(void *arg)\n{\n\tint n = *(int *)arg;\n\n\tprintf(\"[%u][%s] ==> job will be done in %d sec...\\n\", (unsigned)pthread_self(), __FUNCTION__, n);\n\n\tsleep(n);\n\n\tprintf(\"[%u][%s] ==> job done!\\n\", (unsigned)pthread_self(), __FUNCTION__);\n\n\treturn NULL;\n\n\t// pthread_exit(NULL);\n}\n\nvoid *count_time(void *arg)\n{\n\tint i = 0;\n\twhile(1) {\n\t\tsleep(1);\n\t\tprintf(\"sec: %d\\n\", ++i);\n\t}\n}\n\nint main(int argc, char *argv[])\n{\n\tpthread_t a;\n\tpthread_create(&a, NULL, count_time, NULL);\n\n\t// 1.åˆå§‹åŒ–ä¸€ä¸ªå¸¦æœ‰2æ¡çº¿ç¨‹çš„çº¿ç¨‹æ± \n\tthread_pool *pool = malloc(sizeof(thread_pool));\n\tinit_pool(pool, 1);\n\n\t// 2.æŠ•å…¥3ä¸ªä»»åŠ¡\n\tstatic int temp1 = 1, temp2 = 2, temp3 = 3, temp4 = 4, temp5 = 5;\n\tprintf(\"throwing 3 tasks...\\n\");\n\tadd_task(pool, my_task, (void *)&temp1);\n\tadd_task(pool, my_task, (void *)&temp2);\n\tadd_task(pool, my_task, (void *)&temp3);\n  \n\t// 3.æ˜¾ç¤ºå½“å‰æœ‰å¤šå°‘æ¡çº¿ç¨‹\n\tprintf(\"current thread number: %d\\n\", remove_thread(pool, 0));\n\t// sleep(9);\n\n\t// 4.å†æŠ•å…¥2ä¸ªä»»åŠ¡\n\tprintf(\"throwing another 2 tasks...\\n\");\n\tadd_task(pool, my_task, (void *)&temp4);\n\tadd_task(pool, my_task, (void *)&temp5);\n\n\t// 5.å¢åŠ 2æ¡çº¿ç¨‹\n\tadd_thread(pool, 2);\n\tsleep(5);\n\n\t// 6.åˆ é™¤3æ¡çº¿ç¨‹\n\tprintf(\"remove 3 threads from the pool...\\n\");\n\tprintf(\"current thread number: %d\\n\", remove_thread(pool, 3));\n\n\t// 7.é”€æ¯çº¿ç¨‹æ± \n\tdestroy_pool(pool);\n\n\treturn 0;\n}\n```\n\n## 4. æºç \n\næƒ³è¦æºç çš„è¯ï¼Œä¸å¦¨ä¸Šæˆ‘çš„[ğŸGitHub](https://github.com/disnox/pool)çœ‹çœ‹å§ï¼"
        },
        {
          "id": "/thread_pool2",
          "metadata": {
            "permalink": "/blog/thread_pool2",
            "editUrl": "https://github.com/disnox/blog/edit/main/blog/project/3. å†…æ ¸é“¾è¡¨åˆ›å»ºçº¿ç¨‹æ± .md",
            "source": "@site/blog/project/3. å†…æ ¸é“¾è¡¨åˆ›å»ºçº¿ç¨‹æ± .md",
            "title": "å†…æ ¸é“¾è¡¨åˆ›å»ºçº¿ç¨‹æ± ",
            "description": "å†…æ ¸é“¾è¡¨åˆ›å»ºçº¿ç¨‹æ± ",
            "date": "2022-12-16T00:00:00.000Z",
            "formattedDate": "2022å¹´12æœˆ16æ—¥",
            "tags": [
              {
                "label": "C/C++",
                "permalink": "/blog/tags/c-c"
              },
              {
                "label": "Linux",
                "permalink": "/blog/tags/linux"
              }
            ],
            "readingTime": 8.566666666666666,
            "hasTruncateMarker": true,
            "authors": [
              {
                "name": "ğŸ“ºå°šå®‡",
                "title": "åµŒå…¥å¼ / å­¦ç”Ÿ",
                "url": "https://github.com/disnox",
                "imageURL": "/img/logo.webp",
                "key": "disnox"
              }
            ],
            "frontMatter": {
              "slug": "/thread_pool2",
              "title": "å†…æ ¸é“¾è¡¨åˆ›å»ºçº¿ç¨‹æ± ",
              "date": "2022-12-16T00:00:00.000Z",
              "authors": "disnox",
              "tags": [
                "C/C++",
                "Linux"
              ],
              "keywords": [
                "C/C++",
                "Linux"
              ],
              "description": "å†…æ ¸é“¾è¡¨åˆ›å»ºçº¿ç¨‹æ± ",
              "image": "/img/blog/blog.png",
              "sticky": 2
            },
            "unlisted": false,
            "prevItem": {
              "title": "å•å‘é“¾è¡¨åˆ›å»ºçº¿ç¨‹æ± ",
              "permalink": "/blog/thread_pool1"
            },
            "nextItem": {
              "title": "æˆ‘ä¸ºä»€ä¹ˆè¦å†™åšå®¢",
              "permalink": "/blog/blog_write"
            }
          },
          "content": "ä½¿ç”¨å†…æ ¸é“¾è¡¨å®ç°çº¿ç¨‹æ± çš„æ¥å£è®¾è®¡\n\n<!-- truncate -->\n\n## 1. åŸºç¡€çŸ¥è¯†\n\nå…³äºé“¾è¡¨å’Œçº¿ç¨‹çš„ä½¿ç”¨æ–¹æ³•å¯ä»¥æŸ¥çœ‹æˆ‘çš„æŠ€æœ¯ç¬”è®°ï¼š[æ•°æ®ç»“æ„](https://www.disnox.top/docs/category/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84) å’Œ [ç³»ç»Ÿç¼–ç¨‹](https://www.disnox.top/docs/category/linux-%E7%B3%BB%E7%BB%9F%E7%BC%96%E7%A8%8B) ï¼Œåœ¨è¿™ä¸¤ä¸ªé¡µé¢éƒ½å¯ä»¥æ‰¾åˆ°é“¾è¡¨å’Œçº¿ç¨‹çš„ä¸€äº›åŸºç¡€çŸ¥è¯†å’Œä½¿ç”¨ç¤ºä¾‹ã€‚\n\nåœ¨ Linux ç³»ç»Ÿä¸­ï¼Œçº¿ç¨‹æ± æ˜¯ä¸€ç§ç”¨äºç®¡ç†å’Œè°ƒåº¦çº¿ç¨‹çš„æœºåˆ¶ã€‚å®ƒç”±ä¸€ç»„å¯ä»¥å¤ç”¨çš„çº¿ç¨‹ç»„æˆï¼Œè¿™äº›çº¿ç¨‹è¢«ä¿å­˜åœ¨çº¿ç¨‹æ± ä¸­ï¼Œå¹¶ç­‰å¾…åˆ†é…ä»»åŠ¡ã€‚\n\nå½“ä¸€ä¸ªæ–°çš„ä»»åŠ¡åˆ°è¾¾æ—¶ï¼Œçº¿ç¨‹æ± ä¼šä»å…¶ä¸­é€‰æ‹©ä¸€ä¸ªçº¿ç¨‹æ¥æ‰§è¡Œè¯¥ä»»åŠ¡ã€‚å¦‚æœæ‰€æœ‰çº¿ç¨‹éƒ½æ­£åœ¨æ‰§è¡Œä»»åŠ¡ï¼Œåˆ™æ–°ä»»åŠ¡å°†è¢«æ”¾åœ¨é˜Ÿåˆ—ä¸­ç­‰å¾…ï¼Œç›´åˆ°æœ‰çº¿ç¨‹å¯ç”¨ã€‚\n\nä½¿ç”¨çº¿ç¨‹æ± çš„ä¼˜ç‚¹åŒ…æ‹¬ï¼š\n\n- å¯ä»¥æ›´æœ‰æ•ˆåœ°åˆ©ç”¨ CPU èµ„æºï¼Œå› ä¸ºçº¿ç¨‹å¯ä»¥åœ¨ä»»åŠ¡ä¹‹é—´å¤ç”¨ã€‚\n- å¯ä»¥æ›´å®¹æ˜“åœ°ç®¡ç†çº¿ç¨‹ï¼Œå› ä¸ºæ‰€æœ‰çº¿ç¨‹éƒ½åœ¨çº¿ç¨‹æ± ä¸­ã€‚\n- å¯ä»¥æ›´å®¹æ˜“åœ°ç»´æŠ¤çº¿ç¨‹çš„æ•°é‡ï¼Œå› ä¸ºå¯ä»¥é™åˆ¶çº¿ç¨‹æ± çš„å¤§å°ã€‚\n\nçº¿ç¨‹æ± çš„å®ç°åŸç†å¯ä»¥å‚è€ƒè¿™ç¯‡ç¬”è®°ï¼š[çº¿ç¨‹æ± ](https://www.disnox.top/docs/thread_pool)ã€‚\n\nå†…æ ¸é“¾è¡¨çš„ä½¿ç”¨æ–¹æ³•å¯ä»¥å‚è€ƒè¿™ç¯‡ç¬”è®°ï¼š[å†…æ ¸é“¾è¡¨](https://www.disnox.top/docs/inline_list)ã€‚\n\nä¸‹é¢æˆ‘ä»¬æ¥çœ‹çœ‹æ€ä¹ˆé€šè¿‡å†…æ ¸é“¾è¡¨è·Ÿçº¿ç¨‹çš„ç»„åˆå®ç°çº¿ç¨‹æ± ã€‚\n\n## 2. çº¿ç¨‹æ± æ¥å£è®¾è®¡\n\n### 2.1 çº¿ç¨‹ç»“æ„ä½“\n\n+ æ¥å£æ–‡æ¡£\n\n| åŸå‹     | struct thread                                                |\n| -------- | ------------------------------------------------------------ |\n| åŠŸèƒ½æè¿° | çº¿ç¨‹èŠ‚ç‚¹ï¼ŒåŒ…å«çº¿ç¨‹IDï¼Œé€šè¿‡å†…æ ¸é“¾è¡¨è¿æˆä¸€ä¸ªçº¿ç¨‹é˜Ÿåˆ—ï¼Œæ–¹ä¾¿åç»­è¿›è¡Œæ‰©å±• |\n| æˆå‘˜åˆ—è¡¨ | ***pthread_t id;           // çº¿ç¨‹ ID<br/>struct list_head list;  // å°ç»“æ„ä½“*** |\n| å¤‡æ³¨     | çº¿ç¨‹é˜Ÿåˆ—æœ€ç»ˆæ˜¯å½¢æˆä¸€æ¡å†…æ ¸é“¾è¡¨                               |\n\n+ ä»£ç å®ç°\n\n```jsx showLineNumbers\n// çº¿ç¨‹æ± ä¸­çš„çº¿ç¨‹\nstruct thread {\n    pthread_t id;           // çº¿ç¨‹ ID\n    struct list_head list;  // å°ç»“æ„ä½“\n};\n```\n\n### 2.2 ä»»åŠ¡ç»“æ„ä½“\n\n+ æ¥å£æ–‡æ¡£\n\n| åŸå‹     | struct task                                                  |\n| -------- | ------------------------------------------------------------ |\n| åŠŸèƒ½æè¿° | ä»»åŠ¡èŠ‚ç‚¹ï¼ŒåŒ…å«éœ€è¦æ‰§è¡Œçš„å‡½æ•°åŠå…¶å‚æ•°ï¼Œé€šè¿‡é“¾è¡¨è¿æˆä¸€ä¸ªä»»åŠ¡é˜Ÿåˆ— |\n| æˆå‘˜åˆ—è¡¨ | ***void \\*(\\*func)(void \\*arg);<br/>void \\*arg;<br/>struct list_head list;*** |\n| å¤‡æ³¨     | ä»»åŠ¡é˜Ÿåˆ—æœ€ç»ˆæ˜¯å½¢æˆä¸€æ¡å†…æ ¸é“¾è¡¨                               |\n\n+ ä»£ç å®ç°\n\n```jsx showLineNumbers\n// çº¿ç¨‹æ± ä¸­çš„ä»»åŠ¡\nstruct task {\n    void *(*func)(void *);   \t// ä»»åŠ¡å‡½æ•°\n    void *arg;              \t// ä»»åŠ¡å‡½æ•°çš„å‚æ•°\n    struct list_head list;  \t// å°ç»“æ„ä½“\n};\n```\n\n### 2.3 çº¿ç¨‹æ± ç»“æ„ä½“\n\n+ æ¥å£æ–‡æ¡£\n\n| åŸå‹     | thread_pool                                                  |\n| :------- | :----------------------------------------------------------- |\n| åŠŸèƒ½æè¿° | åŒ…å«çº¿ç¨‹æ± çš„æ‰€æœ‰ä¿¡æ¯                                         |\n| æˆå‘˜åˆ—è¡¨ | ***struct list_head threads;  \t// çº¿ç¨‹é˜Ÿåˆ—<br/>struct list_head queue;  \t// ä»»åŠ¡é˜Ÿåˆ—<br/>pthread_mutex_t lock;   \t// äº’æ–¥é”<br/>pthread_cond_t cond;     \t// æ¡ä»¶å˜é‡<br/>unsigned active_threads;\t// çº¿ç¨‹é˜Ÿåˆ—ä¸­çš„çº¿ç¨‹æ•°é‡<br/>unsigned waiting_tasks;\t\t// ä»»åŠ¡é“¾é˜Ÿåˆ—ä¸­ç­‰å¾…çš„ä»»åŠ¡ä¸ªæ•°<br/>bool shutdown;\t\t\t\t// çº¿ç¨‹æ± é”€æ¯æ ‡è®°*** |\n| å¤‡æ³¨     | æ´»è·ƒçº¿ç¨‹ä¸ªæ•°ç”±ç”¨æˆ·è‡ªè¡Œå®šä¹‰ï¼Œä½†è‡³å°‘åŒ…å«ä¸€æ¡æ´»è·ƒçº¿ç¨‹           |\n\n+ ä»£ç å®ç°\n\n```jsx showLineNumbers\nstruct thread_pool {\n    struct list_head threads;  \t// çº¿ç¨‹é˜Ÿåˆ—\n    struct list_head queue;  \t// ä»»åŠ¡é˜Ÿåˆ—\n    pthread_mutex_t lock;   \t// äº’æ–¥é”\n    pthread_cond_t cond;     \t// æ¡ä»¶å˜é‡\n\tunsigned active_threads;\t// çº¿ç¨‹é˜Ÿåˆ—ä¸­çš„çº¿ç¨‹æ•°é‡\n\tunsigned waiting_tasks;\t\t// ä»»åŠ¡é“¾é˜Ÿåˆ—ä¸­ç­‰å¾…çš„ä»»åŠ¡ä¸ªæ•°\n\tbool shutdown;\t\t\t\t// çº¿ç¨‹æ± é”€æ¯æ ‡è®°\n};\n```\n\n### 2.4 çº¿ç¨‹æ± åˆå§‹åŒ–\n\n+ æ¥å£æ–‡æ¡£\n\n| åŸå‹       | void thread_pool_init(struct thread_pool *pool, int num_threads) |\n| :--------- | :----------------------------------------------------------- |\n| åŠŸèƒ½æè¿°   | åˆ›å»ºä¸€ä¸ªæ–°çš„çº¿ç¨‹æ± ï¼ŒåŒ…å« num_threads ä¸ªæ´»è·ƒçº¿ç¨‹              |\n| å‚æ•°       | pool: çº¿ç¨‹æ± æŒ‡é’ˆ<br/>num_threads: åˆå§‹æ´»è·ƒçº¿ç¨‹ä¸ªæ•°(å¤§äºç­‰äº1) |\n| è¿”å›å€¼     | æ—                                                            |\n| æ‰€åœ¨å¤´æ–‡ä»¶ | thread_pool.h                                                |\n| å¤‡æ³¨       | çº¿ç¨‹æ± æœ€å°‘çº¿ç¨‹ä¸ªæ•°ä¸º1ï¼Œæœ€å¤§å€¼ä¸è¶…è¿‡ MAX_ACTIVE_THREADS       |\n\n+ ä»£ç å®ç°\n\n```jsx showLineNumbers\nvoid thread_pool_init(struct thread_pool *pool, int num_threads)\n{\n    int i;\n\n    // æ£€æŸ¥ num_threads çš„å€¼æ˜¯å¦è¶…è¿‡äº†æœ€å¤§å€¼\n    if (num_threads > MAX_ACTIVE_THREADS) {\n        num_threads = MAX_ACTIVE_THREADS;\n    }\n\n\tpool->waiting_tasks = 0;\t\t\t\t//åˆå§‹åŒ–ä»»åŠ¡é˜Ÿåˆ—ä¸­ç­‰å¾…çš„ä»»åŠ¡ä¸ªæ•°\n\tpool->active_threads = num_threads;\t\t//åˆå§‹åŒ–æ´»è·ƒçº¿ç¨‹ä¸ªæ•°\n\tpool->shutdown = false;\t\t\t\t\t//åˆå§‹åŒ–çº¿ç¨‹æ± é”€æ¯æ ‡è®°\n\n    INIT_LIST_HEAD(&pool->threads);\t// åˆå§‹åŒ–çº¿ç¨‹é˜Ÿåˆ—\n    INIT_LIST_HEAD(&pool->queue);\t// åˆå§‹åŒ–ä»»åŠ¡é˜Ÿåˆ—\n\n\t// æ˜¯å¦åˆå§‹åŒ–æˆåŠŸ\n\tif (!list_empty(&pool->queue) || !list_empty(&pool->threads)) {\n\t\tfprintf(stderr, \"init fail.\\n\");\n\t\texit(1);\n\t}\n\n    pthread_mutex_init(&pool->lock, NULL);\n    pthread_cond_init(&pool->cond, NULL);\n\n    // åˆ›å»ºçº¿ç¨‹æ± ä¸­çš„çº¿ç¨‹\n    for (i = 0; i < num_threads; i++) {\n        struct thread *thread = (struct thread *)malloc(sizeof(struct thread));\n\n        INIT_LIST_HEAD(&thread->list);\n        // ä½¿ç”¨ pthread_create åˆ›å»ºçº¿ç¨‹\n        int ret = pthread_create(&thread->id, NULL, thread_pool_main, pool);\n\t\tif (ret != 0) {\n\t\t\tperror(\"create threads error\");\n\t\t\texit(1);\n\t\t}\n\n        // å°†æ–°åˆ›å»ºçš„çº¿ç¨‹æ·»åŠ åˆ°çº¿ç¨‹æ± ä¸­\n        list_add_tail(&thread->list, &pool->threads);\n    }\n}\n```\n\n### 2.5 æŠ•é€ä»»åŠ¡\n\n+ æ¥å£æ–‡æ¡£\n\n| åŸå‹       | void thread_pool_add_task(struct thread_pool \\*pool, void \\*(\\*func)(void \\*), void \\*arg) |\n| :--------- | :----------------------------------------------------------- |\n| åŠŸèƒ½æè¿°   | å¾€çº¿ç¨‹æ± æŠ•é€ä»»åŠ¡                                             |\n| å‚æ•°       | pool: çº¿ç¨‹æ± æŒ‡é’ˆ<br/>func: æŠ•é€è‡³çº¿ç¨‹æ± çš„æ‰§è¡Œä¾‹ç¨‹ <br/>arg: æ‰§è¡Œä¾‹ç¨‹ func çš„å‚æ•°ï¼Œè‹¥è¯¥æ‰§è¡Œä¾‹ç¨‹ä¸éœ€è¦å‚æ•°å¯è®¾ç½®ä¸ºNULL |\n| è¿”å›å€¼     | æ—                                                            |\n| æ‰€åœ¨å¤´æ–‡ä»¶ | thread_pool.h                                                |\n| å¤‡æ³¨       | ä»»åŠ¡é˜Ÿåˆ—ä¸­æœ€å¤§ä»»åŠ¡ä¸ªæ•°ä¸º MAX_WAITING_TASKS                   |\n\n+ ä»£ç å®ç°\n\n```jsx showLineNumbers\nvoid thread_pool_add_task(struct thread_pool *pool, void *(*func)(void *), void *arg)\n{\n    // åˆ†é…å†…å­˜ç»™æ–°ä»»åŠ¡\n    struct task *new_task = (struct task *) malloc(sizeof(struct task));\n\n\tif(new_task == NULL) {\n\t\tperror(\"allocate memory error\");\n\t\texit(1);\n\t}\n\n\t// åˆå§‹åŒ–ä»»åŠ¡èŠ‚ç‚¹\n    new_task->func = func;\n    new_task->arg = arg;\n\n    // è·å–é”\n    pthread_mutex_lock(&pool->lock);\n\t// è¶…è¿‡æœ€å¤§ä»»åŠ¡\n\n\tif(pool->waiting_tasks >= MAX_WAITING_TASKS) {\n\t\tpthread_mutex_unlock(&pool->lock);\n\n\t\tfprintf(stderr, \"too many tasks.\\n\");\n\t\tfree(new_task);\n\n\t\texit(1);\n\t}\n\n    // å°†æ–°ä»»åŠ¡æ·»åŠ åˆ°ä»»åŠ¡é˜Ÿåˆ—çš„æœ«å°¾\n    list_add_tail(&new_task->list, &pool->queue);\n\n\t// æ–°ä»»åŠ¡åŠ ä¸€\n\tpool->waiting_tasks++;\n\n    // å”¤é†’ä¸€ä¸ªçº¿ç¨‹ï¼Œè®©å®ƒå¼€å§‹æ‰§è¡Œæ–°ä»»åŠ¡\n    pthread_cond_signal(&pool->cond);\n\n    // é‡Šæ”¾é”\n    pthread_mutex_unlock(&pool->lock);\n}\n```\n\n### 2.6 å¢åŠ æ´»è·ƒçº¿ç¨‹\n\n+ æ¥å£æ–‡æ¡£\n\n| åŸå‹       | void thread_pool_add_thread(struct thread_pool \\*pool, int num_threads) |\n| :--------- | :----------------------------------------------------------- |\n| åŠŸèƒ½æè¿°   | å¢åŠ çº¿ç¨‹æ± ä¸­æ´»è·ƒçº¿ç¨‹çš„ä¸ªæ•°                                   |\n| å‚æ•°       | pool: éœ€è¦å¢åŠ çº¿ç¨‹çš„çº¿ç¨‹æ± æŒ‡é’ˆ<br/>num_threads: æ–°å¢çº¿ç¨‹ä¸ªæ•° |\n| è¿”å›å€¼     | æ—                                                            |\n| æ‰€åœ¨å¤´æ–‡ä»¶ | thread_pool.h                                                |\n| å¤‡æ³¨       | å¢åŠ çš„æ´»è·ƒçº¿ç¨‹çš„æ•°é‡å’Œä¹‹å‰åˆå§‹åŒ–çš„çº¿ç¨‹æ•°é‡ä¸èƒ½å¤§äº MAX_ACTIVE_THREADS |\n\n+ ä»£ç å®ç°\n\n```jsx showLineNumbers\nvoid thread_pool_add_thread(struct thread_pool *pool, int num_threads)\n{\n    int i;\n\n    // æ£€æŸ¥ num_threads çš„å€¼æ˜¯å¦è¶…è¿‡äº†æœ€å¤§å€¼\n    if (num_threads > MAX_ACTIVE_THREADS - pool->active_threads) {\n        num_threads = MAX_ACTIVE_THREADS - pool->active_threads;\n    }\n\n    // åˆ›å»ºæ–°çº¿ç¨‹\n    for (i = 0; i < num_threads; i++) {\n        struct thread *thread = (struct thread *)malloc(sizeof(struct thread));\n\n        INIT_LIST_HEAD(&thread->list);\n        // ä½¿ç”¨ pthread_create åˆ›å»ºçº¿ç¨‹\n        int ret = pthread_create(&thread->id, NULL, thread_pool_main, pool);\n\t\tif (ret != 0) {\n\t\t\tperror(\"create threads error\");\n\t\t\texit(1);\n\t\t}\n\n        // å°†æ–°åˆ›å»ºçš„çº¿ç¨‹æ·»åŠ åˆ°çº¿ç¨‹æ± ä¸­\n        list_add_tail(&thread->list, &pool->threads);\n    }\n\n    // æ›´æ–°çº¿ç¨‹æ± ä¸­çš„æ´»è·ƒçº¿ç¨‹æ•°\n    pool->active_threads += num_threads;\n}\n```\n\n### 2.7 åˆ é™¤çº¿ç¨‹\n\n+ æ¥å£æ–‡æ¡£\n\n| åŸå‹       | void thread_pool_remove_thread(struct thread_pool \\*pool, int num_threads); |\n| :--------- | :----------------------------------------------------------- |\n| åŠŸèƒ½æè¿°   | åˆ é™¤çº¿ç¨‹æ± ä¸­æ´»è·ƒçº¿ç¨‹çš„ä¸ªæ•°                                   |\n| å‚æ•°       | pool: éœ€è¦åˆ é™¤çº¿ç¨‹çš„çº¿ç¨‹æ± æŒ‡é’ˆ<br/>num_threads: è¦åˆ é™¤çš„çº¿ç¨‹ä¸ªæ•°ï¼Œè¯¥å‚æ•°è®¾ç½®ä¸º0æ—¶ç›´æ¥è¿”å›å½“å‰çº¿ç¨‹æ± çº¿ç¨‹æ€»æ•°ï¼Œå¯¹çº¿ç¨‹æ± ä¸é€ æˆä»»ä½•å…¶å®ƒå½±å“ |\n| è¿”å›å€¼     | æ—                                                            |\n| æ‰€åœ¨å¤´æ–‡ä»¶ | thread_pool.h                                                |\n| å¤‡æ³¨       | 1ï¼Œçº¿ç¨‹æ± è‡³å°‘ä¼šå­˜åœ¨1æ¡æ´»è·ƒçº¿ç¨‹<br/>2ï¼Œå¦‚æœè¢«åˆ é™¤çš„çº¿ç¨‹æ­£åœ¨æ‰§è¡Œä»»åŠ¡ï¼Œåˆ™å°†ç­‰å¾…å…¶å®Œæˆä»»åŠ¡ä¹‹ååˆ é™¤ |\n\n+ ä»£ç å®ç°\n\n```jsx showLineNumbers\nvoid thread_pool_remove_thread(struct thread_pool *pool, int num_threads)\n{\n    int i;\n    for (i = 0; i < num_threads; i++) {\n        // ä»çº¿ç¨‹æ± ä¸­è·å–æœ€åä¸€ä¸ªçº¿ç¨‹\n        struct thread *thread = list_last_entry(&pool->threads, struct thread, list);\n\n        // ä½¿ç”¨ pthread_cancel å–æ¶ˆçº¿ç¨‹\n        int ret = pthread_cancel(thread->id);\n        if (ret != 0) {\n            fprintf(stderr, \"pthread_cancel failed: %s\\n\", strerror(ret));\n        }\n\n        // æ£€æŸ¥çº¿ç¨‹æ˜¯å¦æ­£åœ¨æ‰§è¡Œä»»åŠ¡\n        if (pool->waiting_tasks > 0) {\n            // å¦‚æœçº¿ç¨‹æ­£åœ¨æ‰§è¡Œä»»åŠ¡ï¼Œåˆ™ç­‰å¾…å®ƒå®Œæˆ\n            pthread_join(thread->id, NULL);\n        }\n\n        // ä»çº¿ç¨‹æ± ä¸­åˆ é™¤çº¿ç¨‹\n        list_del(&thread->list);\n        free(thread);\n\n\t\t// æ›´æ–°çº¿ç¨‹æ± ä¸­çš„çº¿ç¨‹æ•°\n        pool->active_threads--;\n    }\n}\n```\n\n### 2.8 é”€æ¯çº¿ç¨‹æ± \n\n+ æ¥å£æ–‡æ¡£\n\n| åŸå‹       | void thread_pool_destroy(thread_pool \\*pool);                |\n| :--------- | :----------------------------------------------------------- |\n| åŠŸèƒ½æè¿°   | é˜»å¡ç­‰å¾…æ‰€æœ‰ä»»åŠ¡å®Œæˆï¼Œç„¶åç«‹å³é”€æ¯æ•´ä¸ªçº¿ç¨‹æ± ï¼Œé‡Šæ”¾æ‰€æœ‰èµ„æºå’Œå†…å­˜ |\n| å‚æ•°       | pool:å°†è¦é”€æ¯çš„çº¿ç¨‹æ±                                         |\n| è¿”å›å€¼     | æˆåŠŸè¿”å›trueï¼Œå¤±è´¥è¿”å›false                                  |\n| æ‰€åœ¨å¤´æ–‡ä»¶ | thread_pool.h                                                |\n| å¤‡æ³¨       | æ—                                                            |\n\n+ ä»£ç å®ç°\n\n```jsx showLineNumbers\nvoid thread_pool_destroy(struct thread_pool *pool)\n{\n\tpool->shutdown = true;\t//çº¿ç¨‹æ± çš„é”€æ¯æ ‡è®°\n\tpthread_cond_broadcast(&pool->cond);\t//å”¤é†’æ‰€æœ‰çº¿ç¨‹\n\tint i;\n\t// é”€æ¯çº¿ç¨‹æ± ä¸­çš„æ‰€æœ‰çº¿ç¨‹\n\tfor (i = 1; i <= pool->active_threads; i++) {\n\t\tstruct thread *thread = list_entry(pool->threads.next, struct thread, list);\n\n    \t// ä½¿ç”¨ pthread_join ç­‰å¾…çº¿ç¨‹ç»“æŸ\n   \t\tint ret = pthread_join(thread->id, NULL);\n    \tif(ret != 0) {\n        \tprintf(\"join id[%d] error: %s\\n\", i, strerror(errno));\n    \t} else {\n        \tprintf(\"[%ld] is joined, i=%d\\n\", thread->id, i);\n    \t}\n   \t\t// ä»çº¿ç¨‹æ± ä¸­åˆ é™¤å·²é€€å‡ºçš„çº¿ç¨‹\n    \tlist_del(&thread->list);\n    \tfree(thread);\n\t}\n\n\t// é‡ç½®ä»»åŠ¡é˜Ÿåˆ—\n\tINIT_LIST_HEAD(&pool->queue);\n\t// é”€æ¯é”å’Œæ¡ä»¶å˜é‡\n\tpthread_mutex_destroy(&pool->lock);\n\tpthread_cond_destroy(&pool->cond);\n\n\t// é‡Šæ”¾çº¿ç¨‹æ± å ç”¨çš„å†…å­˜\n\t// free(pool);\t\t\t\n}\n```\n\n### 2.9 çº¿ç¨‹å…¥å£å‡½æ•°\n\n+ ç”¨æ¥æ‰§è¡Œä»»åŠ¡çš„çº¿ç¨‹å‡½æ•°ï¼š\n\n```jsx showLineNumbers\nvoid *thread_pool_main(void *arg)\n{\n\tstruct thread_pool *pool = (struct thread_pool *) arg;\n\tstruct task *task;\n\n\twhile (1) {\n\t\t// è®¿é—®ä»»åŠ¡é˜Ÿåˆ—å‰åŠ é”ï¼Œä¸ºé˜²æ­¢å–æ¶ˆåæ­»é”ï¼Œæ³¨å†Œå¤„ç†ä¾‹ç¨‹ handle\n\t\tpthread_cleanup_push(handler, (void *)&pool->lock);\t//é˜²æ­¢æ­»é”\n\t\t// è·å–é”\n\t\tpthread_mutex_lock(&pool->lock);\n\n\t\t// å¦‚æœä»»åŠ¡é˜Ÿåˆ—ä¸ºç©ºï¼Œåˆ™é˜»å¡ç­‰å¾…\n\t\twhile (list_empty(&pool->queue) && !pool->shutdown) {\n\t\t\tpthread_cond_wait(&pool->cond, &pool->lock);\n\t\t}\n\n\t\t//å¦‚æœä»»åŠ¡ä¸ºç©ºï¼Œçº¿ç¨‹æ± è¢«é”€æ¯ï¼Œåˆ™ç«‹å³é‡Šæ”¾äº’æ–¥é”å¹¶é€€å‡º\n\t\tif(list_empty(&pool->queue) && pool->shutdown) {\n\t\t\tpthread_mutex_unlock(&pool->lock);\n\t\t\tpthread_exit(NULL);\n\t\t}\n\n\t\t// å°†é˜Ÿåˆ—ä¸­çš„ç¬¬ä¸€ä¸ªä»»åŠ¡å–å‡º\n\t\ttask = list_first_entry(&pool->queue, struct task, list);\n\t\tlist_del(&task->list);\n\t\tpool->waiting_tasks--;\t// ä»»åŠ¡æ•°é‡å‡1\n\t\t// é‡Šæ”¾é”\n\t\tpthread_mutex_unlock(&pool->lock);\n\t\t// ä»»åŠ¡å–èµ°ï¼Œè§£é”ï¼Œå¹¶å¼¹æ ˆ handleï¼ˆä½†ä¸æ‰§è¡Œå®ƒï¼‰\n\t\tpthread_cleanup_pop(0);\n\n\t\t//æ‰§è¡Œä»»åŠ¡æœŸé—´æ‹’ç»å–æ¶ˆè¯·æ±‚\n\t\tpthread_setcancelstate(PTHREAD_CANCEL_DISABLE, NULL);\n\t\ttask->func(task->arg);\t// æ‰§è¡Œä»»åŠ¡\n\t\tpthread_setcancelstate(PTHREAD_CANCEL_ENABLE, NULL);\n\n\t\tfree(task);\t//é‡Šæ”¾èµ„æº\n\t}\n\tpthread_exit(NULL);\n}\n```\n\n+ æ³¨å†Œæ­»é”å¤„ç†å‡½æ•°\n\n```jsx showLineNumbers\nstatic void handler(void *arg)\n{\n\t// å“åº”å–æ¶ˆè¯·æ±‚ä¹‹åè‡ªåŠ¨å¤„ç†ï¼šé‡Šæ”¾äº’æ–¥é”\n\tpthread_mutex_unlock((pthread_mutex_t *)arg);\n}\n```\n\n\n\n## 3. ä½¿ç”¨ç¤ºä¾‹\n\n```jsx showLineNumbers\n#include <stdio.h>\n#include <stdlib.h>\n#include <unistd.h>\n#include \"thread_pool.h\"\n\n// ä»»åŠ¡1\nvoid *task(void *arg)\n{\n    printf(\"Task 1 is running...\\n\");\n\n    // ä»»åŠ¡1ä¼‘çœ ä¸€æ®µæ—¶é—´\n    sleep(1);\n\n    printf(\"Task 1 is done.\\n\");\n\n    //pthread_exit(NULL);\n}\n\nint main(int argc, char *argv[])\n{\n    // åˆ›å»ºçº¿ç¨‹æ± \n    struct thread_pool pool;\n    thread_pool_init(&pool, 4);\nprintf(\"å½“å‰çº¿ç¨‹æ•°ä¸ºï¼š%u\\n\", pool.active_threads);\n\tsleep(1);\n\n\t// åˆ é™¤çº¿ç¨‹\n\tthread_pool_remove_thread(&pool, 2);\nprintf(\"å½“å‰çº¿ç¨‹æ•°ä¸ºï¼š%u\\n\", pool.active_threads);\n\tsleep(1);\n\n\t// æ·»åŠ çº¿ç¨‹åˆ°çº¿ç¨‹æ± ä¸­\n\tthread_pool_add_thread(&pool, 3);\nprintf(\"å½“å‰çº¿ç¨‹æ•°ä¸ºï¼š%u\\n\", pool.active_threads);\n\tsleep(1);\n\n    // æ·»åŠ ä»»åŠ¡åˆ°çº¿ç¨‹æ± ä¸­\n    thread_pool_add_task(&pool, task, NULL);\n\tsleep(1);\n    thread_pool_add_task(&pool, task, NULL);\n\tsleep(1);\n    thread_pool_add_task(&pool, task, NULL);\n\tsleep(1);\n\n    // ä¸»çº¿ç¨‹ä¼‘çœ ä¸€æ®µæ—¶é—´ï¼Œè®©ä»»åŠ¡å®Œæˆ\n    sleep(1);\nprintf(\"\\033[31m\"\"---------Function: [%s]---------Line: [%d]---------\\n\"\"\\033[m\", __FUNCTION__, __LINE__);\t\n    // æ¸…ç†çº¿ç¨‹æ± \n    thread_pool_destroy(&pool);\n\nprintf(\"\\033[31m\"\"---------Function: [%s]---------Line: [%d]---------\\n\"\"\\033[m\", __FUNCTION__, __LINE__);\n\n    return 0;\n}\n```\n\n## 4. æºç \n\næƒ³è¦æºç çš„è¯ï¼Œä¸å¦¨ä¸Šæˆ‘çš„[ğŸGitHub](https://github.com/disnox/thread_pool)çœ‹çœ‹å§ï¼\n\n<!-- truncate -->"
        },
        {
          "id": "/blog_write",
          "metadata": {
            "permalink": "/blog/blog_write",
            "editUrl": "https://github.com/disnox/blog/edit/main/blog/project/1. æˆ‘ä¸ºä»€ä¹ˆè¦å†™åšå®¢.md",
            "source": "@site/blog/project/1. æˆ‘ä¸ºä»€ä¹ˆè¦å†™åšå®¢.md",
            "title": "æˆ‘ä¸ºä»€ä¹ˆè¦å†™åšå®¢",
            "description": "å†™åšå®¢",
            "date": "2022-10-25T00:00:00.000Z",
            "formattedDate": "2022å¹´10æœˆ25æ—¥",
            "tags": [
              {
                "label": "blog",
                "permalink": "/blog/tags/blog"
              },
              {
                "label": "éšç¬”",
                "permalink": "/blog/tags/éšç¬”"
              },
              {
                "label": "docusaurus",
                "permalink": "/blog/tags/docusaurus"
              }
            ],
            "readingTime": 3.4966666666666666,
            "hasTruncateMarker": true,
            "authors": [
              {
                "name": "ğŸ“ºå°šå®‡",
                "title": "åµŒå…¥å¼ / å­¦ç”Ÿ",
                "url": "https://github.com/disnox",
                "imageURL": "/img/logo.webp",
                "key": "disnox"
              }
            ],
            "frontMatter": {
              "slug": "/blog_write",
              "title": "æˆ‘ä¸ºä»€ä¹ˆè¦å†™åšå®¢",
              "date": "2022-10-25T00:00:00.000Z",
              "authors": "disnox",
              "tags": [
                "blog",
                "éšç¬”",
                "docusaurus"
              ],
              "keywords": [
                "blog",
                "éšç¬”",
                "docusaurus"
              ],
              "description": "å†™åšå®¢",
              "image": "/img/blog/blog.png",
              "sticky": 4
            },
            "unlisted": false,
            "prevItem": {
              "title": "å†…æ ¸é“¾è¡¨åˆ›å»ºçº¿ç¨‹æ± ",
              "permalink": "/blog/thread_pool2"
            }
          },
          "content": "æˆ‘ä¸ºä»€ä¹ˆè¦å†™åšå®¢ï¼Ÿ\n\nå†™åšå®¢çš„åˆè¡·æ˜¯ä»€ä¹ˆï¼Ÿ\n\nå†™åšå®¢èƒ½ç»™æˆ‘å¸¦æ¥ä»€ä¹ˆï¼Ÿ\n\n<!-- truncate -->\n\n## å‰è¨€\n\nç¬¬ä¸€æ¬¡æ¥è§¦å†™åšå®¢çš„æ—¶å€™åœ¨å»å¹´9æœˆä»½çš„æ—¶å€™ï¼Œå½“æ—¶è‡ªå·±ä¹Ÿåœ¨CSDNä¸Šå†™äº†å‡ ç¯‡æ–‡ç« ï¼Œç¬¬ä¸€æ¬¡æ¥è§¦åˆ°**Markdown**è¯­æ³•ï¼Œä½†æ˜¯åé¢å°±å› ä¸ºå„ç§å„æ ·çš„æƒ…å†µå¯¼è‡´æ²¡æœ‰åšæŒä¸‹æ¥ï¼Œä½†å½“æ—¶å­¦ä¹ çš„**Markdown**è¯­æ³•è‡³ä»Šæˆ‘è¿˜åœ¨ä½¿ç”¨ã€‚ç„¶åç¬¬ä¸€æ¬¡æ¥è§¦è‡ªå·±æ­å»ºç½‘é¡µå»å†™åšå®¢æ˜¯ä»Šå¹´5æœˆä»½çš„æ—¶å€™ï¼Œæˆ‘çš„ä¸€ä¸ªä¿ç ”çš„å¸ˆå…„æ•™æˆ‘ç”¨  [**Docusaurus**](https://www.docusaurus.cn/docs/installation) åŠ  **Vercel** éƒ¨ç½²å»æ­å»ºå±äºè‡ªå·±çš„ä¸€ä¸ªç½‘ç«™ï¼Œé£æ ¼ä¸»é¢˜éƒ½å¯ä»¥è‡ªå·±å»è‡ªç”±çš„æ­é…ï¼Œè¿™ç‚¹æˆ‘æ˜¯ç‰¹åˆ«å–œæ¬¢çš„ï¼Œä½†å½“æ—¶ä¸€ç›´å¿™ç€æ¯”èµ›ï¼Œè¢«å‹æ¦¨çš„å®ä¹ å·¥ä½œå¯¼è‡´è‡ªå·±æ²¡æœ‰å»å¥½å¥½ç»´æŠ¤ã€‚å½“æˆ‘å†³å®šå¥½å¥½æ²‰æ·€ä¸€ä¸‹è‡ªå·±ï¼ŒæŠŠè‡ªå·±æ‰€å­¦ã€æ‰€çœ‹ã€æ‰€ç»å†è®°å½•ä¸‹æ¥ï¼Œå·²ç»å¿«ä»Šå¹´10æœˆåº•äº†ï¼Œè¿˜å¥½è¿˜ä¸æ™šã€‚\n\n## ä¸ºä»€ä¹ˆå†™åšå®¢\n\nå…¶å®è¿™äº›åŸå› å¾ˆç®€å•ã€‚\n\n### å·©å›ºå­¦ä¹ ã€è®°å½•ç¬”è®°\n\nèµ°æŠ€æœ¯å¼€å‘è¿™æ¡è·¯ï¼Œè¦å­¦ä¹ çš„ä¸œè¥¿çœŸçš„å¾ˆå¤šå¾ˆå¤šï¼Œç„¶è€Œäººçš„è®°å¿†æœ‰é™çš„ï¼Œå¦‚æœä¸æŒ‰æ—¶çš„è¿›è¡Œæ€»ç»“ã€è®°å½•ï¼Œå›è¿‡å¤´å†çœ‹å…¶å®è·Ÿé‡æ–°å­¦ä¹ æ²¡ä»€ä¹ˆä¸¤æ ·ã€‚è¿™äº›æˆ‘æ·±æœ‰æ„Ÿè§¦ï¼Œæˆ‘å‡ ä¸ªæœˆä¸å»è§‚çœ‹ç»´æŠ¤çš„ä»£ç ï¼Œåšè¿‡çš„é¡¹ç›®ï¼Œæˆ‘å†å»ç¿»çœ‹çš„æ—¶å€™ï¼Œæœ‰æ—¶å€™çœŸçš„ä¸äºšäºæ˜¯åœ¨æ—è§‚ä¸€ä¸ªåˆ«äººåšçš„é¡¹ç›®ï¼Œæˆ‘æœ‰æ—¶å€™çœŸçš„ä¼šè¦å»é‡æ–°ç†è§£ã€‚æˆ‘è§‰å¾—è¿™æ ·å…¶å®æ˜¯ä¸€ä¸ªå¾ˆæµªè´¹æ—¶é—´çš„äº‹æƒ…ã€‚æˆ‘éœ€è¦å°†è¿™äº›é¡¹ç›®çš„ä»£ç æ¡†å›¾ã€è®¾è®¡æ€è·¯ç»™è®°å½•ä¸‹æ¥ï¼Œä»¥ä¾¿ä¸‹æ¬¡æŸ¥çœ‹ã€‚\n\nè€Œä¸”å­¦ä¹ å¯¹æˆ‘æ¥è¯´åº”è¯¥æ˜¯ä¸€ä¸ªæ¬è¿çš„è¿‡ç¨‹ï¼Œåˆ«äººçš„ç¬”è®°ï¼Œåˆ«äººçš„å¿ƒå¾—ç»ˆç©¶æ˜¯åˆ«äººçš„ï¼Œåªæœ‰æˆ‘è‡ªå·±å»è®°å½•å»æ€»ç»“ï¼Œæœ‰è‡ªå·±çš„æ¡†æ¶ï¼Œè‡ªå·±çš„æ€è·¯é‚£æ‰æ˜¯æˆ‘çš„ã€‚è€Œä¸”ä¸æ˜¯æ‰€æœ‰çš„çŸ¥è¯†ç‚¹éƒ½èƒ½è®°åœ¨è„‘å­é‡Œé¢çš„ï¼Œæ•´ç†æˆå†Œä¹Ÿæ˜¯æ–¹ä¾¿è‡ªå·±æŸ¥æ‰¾ã€‚è€Œä¸”å†™ç¬”è®°ä¹Ÿæ˜¯å¯¹è‡ªå·±å­¦ä¹ çš„ä¸€ä¸ªæ¢³ç†è¿‡ç¨‹ï¼Œæå‡è‡ªå·±çš„æ€ç»´èƒ½åŠ›ã€‚\n\n### å­¦ä¹ äº¤æµï¼ŒçŸ¥è¯†åˆ†äº«\n\nå¸®åŠ©ä»–äººï¼Œå…¶å®ä¹Ÿæ˜¯å¸®åŠ©è‡ªå·±ï¼Œåˆ†äº«è‡ªå·±çš„ç¬”è®°ï¼Œè®°å½•è‡ªå·±çš„è¸©å‘å°±æ˜¯å¸Œæœ›åŒæ ·è¸©åˆ°è¿™ä¸ªå‘çš„äººå¯ä»¥çœ‹åˆ°ã€‚è€Œä¸”ä¸€ä¸ªäººçš„èƒ½åŠ›æ˜¯æœ‰é™çš„ï¼Œæˆ‘è‡ªå·±å†™å‡ºæ¥çš„åšå®¢ç¬”è®°ä¹Ÿä¸å¯èƒ½åå…¨åç¾ï¼Œä¹Ÿè®¸æˆ‘è‡ªå·±æ£€æŸ¥ä¸ªå‡ ééƒ½å‘ç°ä¸äº†é”™è¯¯ï¼Œè€Œç»™åˆ«äººçœ‹å¯èƒ½ä¸€ä¸‹å­å°±å‘ç°äº†ï¼Œæˆ‘å¸Œæœ›é€šè¿‡è¿™ä¸ªåšå®¢å»è·Ÿå…¶ä»–äººè¿›è¡Œä¸€ä¸ªäº¤æµï¼Œæ›´åŠ çš„å»å®Œå–„è‡ªå·±ã€‚\n\n## ä¸ºä»€ä¹ˆè¦æ­å»ºè‡ªå·±çš„å°ç«™å‘¢ï¼Ÿ\n\nå…¶å®ç½‘ä¸Šå†™åšå®¢çš„åœ°æ–¹å¾ˆå¤šï¼Œåƒ**CSDN**ã€**çŸ¥ä¹**ã€**åšå®¢å›­**ã€**å¾®åš**ç­‰ç­‰ï¼Œç”¨æ¥è®°å½•è‡ªå·±çš„å­¦ä¹ ç”Ÿæ´»ã€ç¬”è®°ä¹Ÿæ˜¯å®Œå…¨å¤Ÿç”¨çš„ï¼Œä½†è¿™äº›åœ°æ–¹çš„æ–‡ç« ã€æ¨¡æ¿ä¸»é¢˜ä¸å…¨éƒ½æ˜¯æˆ‘å–œæ¬¢çš„é£æ ¼ï¼Œä½†ä¸€äº›å‰ç«¯å¤§ä½¬ï¼ˆå³°åã€å°šå®‡ï¼‰ä»–ä»¬åšçš„ç½‘é¡µåšå®¢çœŸçš„æ˜¯æƒŠè‰³åˆ°æˆ‘äº†ï¼Œä¹Ÿæ˜¯åŸºäº**Docusaurus**å»æ­å»ºçš„ã€‚æ‰€ä»¥ä¾¿æ‹¿æ¥copyæ›´æ”¹äº†ä¸€ä»½è‡ªå·±çš„ç½‘é¡µï¼Œå½“ç„¶æˆ‘ä¹Ÿå¾ˆæ³¨é‡å¼€æºç²¾ç¥ï¼Œå·²ç»å¾å¾—åŸä½œè€…è®¸å¯å•¦ã€‚å½“ç„¶æˆ‘ä¹Ÿä¸æ˜¯å­¦å‰ç«¯çš„ï¼Œè€Œæ˜¯èµ°çš„åµŒå…¥å¼å¼€å‘ï¼Œæ‰€ä»¥å¾ˆå¤šåœ°æ–¹ä¹Ÿåªæ˜¯ç…§ç€æ¨¡æ¿ä¿®ä¿®æ”¹æ”¹ï¼Œä½† **CV** è¿™ä¸€æ–¹é¢æˆ‘ä¸€ç›´æ˜¯åœ¨è¡Œçš„ï¼Œè€Œä¸”æ•ˆæœçœŸçš„æŒºå¥½çš„ï¼Œç¾è§‚ç¨‹åº¦çœŸçš„å¾ˆå½±å“å­¦ä¹ çŠ¶æ€ï¼Œä¸€ä¸ªæ¼‚äº®çš„ç½‘ç«™è®©æˆ‘å†™ç¬”è®°éƒ½æ·»åŠ äº†ä¸å°‘åŠ¨åŠ›ï¼Œè€Œä¸”åˆ†æ åˆ†ç±»éƒ½å¾ˆä¸é”™ã€‚\n\n## æ€»ç»“\n\næˆ‘åœ¨æˆ‘çš„å°ç«™é‡Œé¢æ”¾äº†åšå®¢ã€æŠ€æœ¯ç¬”è®°ã€å·¥å…·æ¨èã€è¿˜æœ‰ç½‘å€å¯¼èˆªï¼Œæ–¹ä¾¿è‡ªå·±éšæ—¶æŸ¥é˜…ã€éšæ—¶è·³è½¬ã€‚å¥½çœ‹çš„å°ç«™å›ºç„¶é‡è¦ï¼Œä½†æœ€é‡è¦çš„è¿˜æ˜¯æŠ€æœ¯çš„åˆ†äº«ï¼Œæœ€åï¼Œå¸Œæœ›æˆ‘åˆ†äº«çš„æŠ€æœ¯ç¬”è®°ï¼Œä¸ªäººç»å†èƒ½å¯¹ä½ æœ‰æ‰€å¯å‘ã€‚"
        }
      ],
      "tags": {
        "/blog/tags/c-c": {
          "label": "C/C++",
          "items": [
            "/classic",
            "/thread_pool1",
            "/thread_pool2"
          ],
          "permalink": "/blog/tags/c-c",
          "pages": [
            {
              "items": [
                "/classic",
                "/thread_pool1",
                "/thread_pool2"
              ],
              "metadata": {
                "permalink": "/blog/tags/c-c",
                "page": 1,
                "postsPerPage": 10,
                "totalPages": 1,
                "totalCount": 3,
                "blogDescription": "å°šå®‡çš„ä¸ªäººåšå®¢",
                "blogTitle": "Blog"
              }
            }
          ],
          "unlisted": false
        },
        "/blog/tags/exam": {
          "label": "exam",
          "items": [
            "/classic"
          ],
          "permalink": "/blog/tags/exam",
          "pages": [
            {
              "items": [
                "/classic"
              ],
              "metadata": {
                "permalink": "/blog/tags/exam",
                "page": 1,
                "postsPerPage": 10,
                "totalPages": 1,
                "totalCount": 1,
                "blogDescription": "å°šå®‡çš„ä¸ªäººåšå®¢",
                "blogTitle": "Blog"
              }
            }
          ],
          "unlisted": false
        },
        "/blog/tags/linux": {
          "label": "Linux",
          "items": [
            "/thread_pool1",
            "/thread_pool2"
          ],
          "permalink": "/blog/tags/linux",
          "pages": [
            {
              "items": [
                "/thread_pool1",
                "/thread_pool2"
              ],
              "metadata": {
                "permalink": "/blog/tags/linux",
                "page": 1,
                "postsPerPage": 10,
                "totalPages": 1,
                "totalCount": 2,
                "blogDescription": "å°šå®‡çš„ä¸ªäººåšå®¢",
                "blogTitle": "Blog"
              }
            }
          ],
          "unlisted": false
        },
        "/blog/tags/blog": {
          "label": "blog",
          "items": [
            "/blog_write"
          ],
          "permalink": "/blog/tags/blog",
          "pages": [
            {
              "items": [
                "/blog_write"
              ],
              "metadata": {
                "permalink": "/blog/tags/blog",
                "page": 1,
                "postsPerPage": 10,
                "totalPages": 1,
                "totalCount": 1,
                "blogDescription": "å°šå®‡çš„ä¸ªäººåšå®¢",
                "blogTitle": "Blog"
              }
            }
          ],
          "unlisted": false
        },
        "/blog/tags/éšç¬”": {
          "label": "éšç¬”",
          "items": [
            "/blog_write"
          ],
          "permalink": "/blog/tags/éšç¬”",
          "pages": [
            {
              "items": [
                "/blog_write"
              ],
              "metadata": {
                "permalink": "/blog/tags/éšç¬”",
                "page": 1,
                "postsPerPage": 10,
                "totalPages": 1,
                "totalCount": 1,
                "blogDescription": "å°šå®‡çš„ä¸ªäººåšå®¢",
                "blogTitle": "Blog"
              }
            }
          ],
          "unlisted": false
        },
        "/blog/tags/docusaurus": {
          "label": "docusaurus",
          "items": [
            "/blog_write"
          ],
          "permalink": "/blog/tags/docusaurus",
          "pages": [
            {
              "items": [
                "/blog_write"
              ],
              "metadata": {
                "permalink": "/blog/tags/docusaurus",
                "page": 1,
                "postsPerPage": 10,
                "totalPages": 1,
                "totalCount": 1,
                "blogDescription": "å°šå®‡çš„ä¸ªäººåšå®¢",
                "blogTitle": "Blog"
              }
            }
          ],
          "unlisted": false
        }
      }
    }
  }
}