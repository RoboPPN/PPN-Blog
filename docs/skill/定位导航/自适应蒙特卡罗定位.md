![导航包move_base框架图](https://img-blog.csdnimg.cn/22866c65da7249ea896c1b0e40779476.png)

## 蒙特卡罗基本思想
当所要求的问题是某种事件出现的概率，或者是某个随机变量的期望值时，它们可以通过某种“试验”的方法得到这种事件出现的频率，或者这个随机变数的平均值，并用它们作为问题的解。

## 粒子滤波
粒子滤波用了蒙特卡罗的思想。

通常来说，粒子滤波一般包括：
- 初始化：机器人知道自己的初始位置；
- 计算权重：对可能性大的粒子分配较大权重，可能性小的分配较小权重；
- 重采样：抛弃旧粒子生成新粒子，这些新粒子集中出现在权重大的旧粒子位置上，并有大量的新粒子叠加在同一位置。所有新粒子都是重采样得到，它们拥有相同的权重；
- 状态转移：机器人走了多远，粒子也跟着机器人一起走过相同的距离；

下图是粒子滤波流程图：

![请添加图片描述](https://img-blog.csdnimg.cn/c2638d3acbb24506b8febb90e24e65f3.png)


## 自适应蒙特卡罗定位解决的两个问题
1. 粒子数固定问题，当机器人定位基本完成的时候，比如这些粒子都集中在一块了，这时候重采样的粒子数可以少一点。
2. 机器人绑架问题，当粒子的平均分数突然降低（意味着正确的粒子在某次迭代中被抛弃了），在全局再重新的撒上一些粒子。

>“绑架劫持”：机器人在已知自身位姿的情况下，得到一个错误的位姿信息或者外界将其放到另外一个位姿，而里程计信息给出了错误的信息。



## AMCL的输入与输出
![请添加图片描述](https://img-blog.csdnimg.cn/311d70c16cd246ea9516f70d7b4aec83.png)

